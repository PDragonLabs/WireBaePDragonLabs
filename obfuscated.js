const _0x340d5d=_0x1036;(function(_0x2db5c7,_0x36f6dc){const _0x4135c2=_0x1036,_0x21a431=_0x2db5c7();while(!![]){try{const _0x1aed16=-parseInt(_0x4135c2(0xa5))/0x1*(parseInt(_0x4135c2(0xd7))/0x2)+-parseInt(_0x4135c2(0x86))/0x3*(parseInt(_0x4135c2(0x123))/0x4)+-parseInt(_0x4135c2(0xca))/0x5*(-parseInt(_0x4135c2(0x11e))/0x6)+parseInt(_0x4135c2(0x12b))/0x7+-parseInt(_0x4135c2(0x115))/0x8*(parseInt(_0x4135c2(0x102))/0x9)+parseInt(_0x4135c2(0x135))/0xa*(parseInt(_0x4135c2(0x10c))/0xb)+parseInt(_0x4135c2(0xff))/0xc;if(_0x1aed16===_0x36f6dc)break;else _0x21a431['push'](_0x21a431['shift']());}catch(_0x337d68){_0x21a431['push'](_0x21a431['shift']());}}}(_0x84e6,0xe0784));import*as _0x553590 from'three';import{EffectComposer}from'three/addons/postprocessing/EffectComposer.js';import{RenderPass}from'three/addons/postprocessing/RenderPass.js';import{UnrealBloomPass}from'three/addons/postprocessing/UnrealBloomPass.js';import{GlitchPass}from'three/addons/postprocessing/GlitchPass.js';let scene,camera,renderer,composer,clock,bloomPass,glitchPass,dragonfly,particles,audio,analyser,filter,targetFrequency,gridHelper,pyramids,stars,spawnedObjects,raycaster,groundPlane,placementMarker,playhead,currentObjectToAdd=null;const mouse=new _0x553590[(_0x340d5d(0xcf))]();let isExperienceActive=![],synths={},sequence;const GRID_SIZE=0xc8,STEPS=0x10,container=document[_0x340d5d(0xeb)]('scene-container'),activationOverlay=document[_0x340d5d(0xeb)](_0x340d5d(0xd6)),activationButton=document[_0x340d5d(0xeb)](_0x340d5d(0x77)),cursorLight=document[_0x340d5d(0xeb)]('cursor-light'),aiText=document[_0x340d5d(0xeb)](_0x340d5d(0xa3)),controlsPanel=document[_0x340d5d(0xeb)](_0x340d5d(0xf6)),shareContainer=document[_0x340d5d(0xeb)](_0x340d5d(0x104)),genreSelect=document[_0x340d5d(0xeb)](_0x340d5d(0x8c)),glowSlider=document[_0x340d5d(0xeb)](_0x340d5d(0xc5)),particleColorSlider=document[_0x340d5d(0xeb)](_0x340d5d(0xc1)),gridColorSlider=document[_0x340d5d(0xeb)](_0x340d5d(0xfb)),dragonflyColorSlider=document[_0x340d5d(0xeb)](_0x340d5d(0x114)),fogSlider=document[_0x340d5d(0xeb)]('fog-slider'),clearSceneButton=document['getElementById'](_0x340d5d(0xd4)),sequencerToggleButton=document[_0x340d5d(0xeb)](_0x340d5d(0x12f)),shareButton=document[_0x340d5d(0xeb)](_0x340d5d(0x91)),shareModal=document[_0x340d5d(0xeb)]('share-modal'),shareImage=document['getElementById'](_0x340d5d(0xe2)),downloadLink=document['getElementById'](_0x340d5d(0xdf)),closeModalButton=document[_0x340d5d(0xeb)](_0x340d5d(0xea)),copyLinkButton=document[_0x340d5d(0xeb)](_0x340d5d(0x11f)),hint1=document[_0x340d5d(0xeb)](_0x340d5d(0x11a)),hint1Ok=document[_0x340d5d(0xeb)]('hint1-ok'),audioTracks={'cyber-funk':'https://pdragonlabs.github.io/WireBaePDragonLabs/cyber-funk.mp3','trap':_0x340d5d(0x11d),'lo-fi':_0x340d5d(0x126),'old-school':_0x340d5d(0xa7)};function init(){const _0x3b4fb2=_0x340d5d;scene=new _0x553590[(_0x3b4fb2(0x76))](),scene['fog']=new _0x553590[(_0x3b4fb2(0xbc))](0xa0014,0.005),clock=new _0x553590[(_0x3b4fb2(0x89))](),camera=new _0x553590['PerspectiveCamera'](0x4b,window[_0x3b4fb2(0xd9)]/window[_0x3b4fb2(0x113)],0.1,0x3e8),camera[_0x3b4fb2(0x116)]['set'](0x0,0x5,0x23),renderer=new _0x553590[(_0x3b4fb2(0x109))]({'antialias':!![],'preserveDrawingBuffer':!![]}),renderer['setPixelRatio'](window['devicePixelRatio']),renderer[_0x3b4fb2(0xdb)](window[_0x3b4fb2(0xd9)],window[_0x3b4fb2(0x113)]),renderer[_0x3b4fb2(0xf2)](0xa0014,0x1),container[_0x3b4fb2(0xf5)](renderer[_0x3b4fb2(0xc8)]),raycaster=new _0x553590['Raycaster'](),spawnedObjects=new _0x553590[(_0x3b4fb2(0xba))](),scene[_0x3b4fb2(0xf9)](spawnedObjects),setupPostProcessing(),setupAudio(),setupSynths(),setupSequencer(),createDragonfly(),createParticles(),createEnvironment(),createStars(),createPyramids(),createPlacementMarker(),createPlayhead(),setupEventListeners(),animate();}function setupPostProcessing(){const _0xfcde8e=_0x340d5d,_0x393e68=new RenderPass(scene,camera);bloomPass=new UnrealBloomPass(new _0x553590[(_0xfcde8e(0xcf))](window[_0xfcde8e(0xd9)],window[_0xfcde8e(0x113)]),1.5,0.4,0.85),glitchPass=new GlitchPass(),glitchPass[_0xfcde8e(0x7a)]=![],composer=new EffectComposer(renderer),composer[_0xfcde8e(0xa6)](_0x393e68),composer['addPass'](bloomPass),composer[_0xfcde8e(0xa6)](glitchPass);}function setupAudio(){const _0x4ccd18=_0x340d5d,_0x283e5d=new _0x553590[(_0x4ccd18(0x9e))]();camera[_0x4ccd18(0xf9)](_0x283e5d),audio=new _0x553590[(_0x4ccd18(0xdc))](_0x283e5d),analyser=new _0x553590[(_0x4ccd18(0x112))](audio,0x80),filter=audio['context']['createBiquadFilter'](),filter[_0x4ccd18(0x84)]=_0x4ccd18(0x106),targetFrequency=audio[_0x4ccd18(0xb4)][_0x4ccd18(0x98)]/0x2,filter[_0x4ccd18(0xe6)]['value']=targetFrequency,filter['Q']['value']=0x1,audio[_0x4ccd18(0x9d)](filter);}function setupSynths(){const _0x433d12=_0x340d5d,_0xabb9ed=new Tone[(_0x433d12(0xce))](0x2)[_0x433d12(0x131)]();synths[_0x433d12(0xa8)]=new Tone[(_0x433d12(0x8b))]({'pitchDecay':0.05,'octaves':0xa,'oscillator':{'type':_0x433d12(0x93)},'envelope':{'attack':0.001,'decay':0.4,'sustain':0.01,'release':1.4,'attackCurve':_0x433d12(0x99)}})[_0x433d12(0x131)](),synths[_0x433d12(0xe5)]=new Tone['MetalSynth']({'frequency':0xc8,'envelope':{'attack':0.001,'decay':0.1,'release':0.01},'harmonicity':5.1,'modulationIndex':0x20,'resonance':0xfa0,'octaves':1.5})[_0x433d12(0x131)](),synths[_0x433d12(0x96)]=new Tone[(_0x433d12(0x9b))]({'harmonicity':0x3,'modulationIndex':0xa,'detune':0x0,'oscillator':{'type':_0x433d12(0x93)},'envelope':{'attack':0.01,'decay':0.1,'sustain':0.5,'release':0x1},'modulation':{'type':_0x433d12(0x7c)},'modulationEnvelope':{'attack':0.5,'decay':0x0,'sustain':0x1,'release':0.5}})[_0x433d12(0xee)](_0xabb9ed),synths[_0x433d12(0x11b)]=new Tone[(_0x433d12(0x12a))](Tone[_0x433d12(0xc2)],{'harmonicity':1.5,'detune':0x0,'oscillator':{'type':_0x433d12(0x125)},'envelope':{'attack':0.1,'decay':0.2,'sustain':0.5,'release':1.2},'modulation':{'type':_0x433d12(0x93)},'modulationEnvelope':{'attack':0.5,'decay':0x0,'sustain':0x1,'release':0.5}})[_0x433d12(0xee)](_0xabb9ed);}function setupSequencer(){const _0x5251d9=_0x340d5d,_0x3cc44d=Array[_0x5251d9(0x103)]({'length':STEPS},(_0x531631,_0x51112f)=>_0x51112f);sequence=new Tone[(_0x5251d9(0x95))]((_0x5bf4f4,_0x1e50d3)=>{const _0x7800ff=_0x5251d9;Tone[_0x7800ff(0x79)]['schedule'](()=>{const _0x4fcc76=_0x7800ff;playhead[_0x4fcc76(0x116)]['x']=-GRID_SIZE/0x2+_0x1e50d3/(STEPS-0x1)*GRID_SIZE;},_0x5bf4f4),spawnedObjects['children'][_0x7800ff(0xde)](_0xde3965=>{const _0xacc05a=_0x7800ff,_0x45c8df=Math['floor']((_0xde3965[_0xacc05a(0x116)]['x']+GRID_SIZE/0x2)/GRID_SIZE*STEPS);_0x45c8df===_0x1e50d3&&(triggerSound(_0xde3965,_0x5bf4f4),Tone[_0xacc05a(0x79)][_0xacc05a(0x90)](()=>flashObject(_0xde3965),_0x5bf4f4));});},_0x3cc44d,_0x5251d9(0x128)),Tone[_0x5251d9(0x12c)][_0x5251d9(0xb3)][_0x5251d9(0xbf)]=0x78;}function triggerSound(_0x36df56,_0x596f62){const _0x34b0ff=_0x340d5d,_0x2df3de=0x1-(_0x36df56[_0x34b0ff(0x116)]['z']+GRID_SIZE/0x2)/GRID_SIZE;switch(_0x36df56[_0x34b0ff(0xb0)]['type']){case'cube':synths[_0x34b0ff(0xa8)][_0x34b0ff(0xf4)]('C1','8n',_0x596f62);break;case _0x34b0ff(0x97):synths[_0x34b0ff(0xe5)][_0x34b0ff(0xf4)]('C4',_0x34b0ff(0x128),_0x596f62);break;case _0x34b0ff(0x8a):synths[_0x34b0ff(0x96)][_0x34b0ff(0xf4)](0xc8+_0x2df3de*0x320,'8n',_0x596f62);break;case _0x34b0ff(0x130):synths[_0x34b0ff(0x11b)][_0x34b0ff(0xf4)](['C2','E2','G2'],'4n',_0x596f62);break;}}function flashObject(_0x1654ea){const _0x2be792=_0x340d5d;_0x1654ea[_0x2be792(0xb0)][_0x2be792(0xcd)]=!![],_0x1654ea[_0x2be792(0x83)][_0x2be792(0x10d)]=0x5,setTimeout(()=>{const _0x38fa24=_0x2be792;_0x1654ea[_0x38fa24(0x83)]['emissiveIntensity']=0x1,_0x1654ea[_0x38fa24(0xb0)][_0x38fa24(0xcd)]=![];},0x64);}function loadAudio(_0x86502b){const _0x1384d0=_0x340d5d;if(audio[_0x1384d0(0x73)])audio[_0x1384d0(0xe3)]();const _0x5d0758=new _0x553590[(_0x1384d0(0xd3))]();aiText[_0x1384d0(0x12e)]=_0x1384d0(0x12d),_0x5d0758[_0x1384d0(0xd5)](_0x86502b,_0x2bc30d=>{const _0x164e02=_0x1384d0;audio['setBuffer'](_0x2bc30d),audio[_0x164e02(0xda)](!![]),audio[_0x164e02(0x124)](0.5);if(isExperienceActive)audio['play']();aiText[_0x164e02(0x12e)]=_0x164e02(0x121);},undefined,_0x378c96=>{const _0x14af5d=_0x1384d0;console['error']('An\x20error\x20happened\x20while\x20loading\x20audio.',_0x378c96),aiText[_0x14af5d(0x12e)]='Audio\x20failed\x20to\x20load.';});}function _0x1036(_0x15d0d0,_0xe0427e){const _0x84e69b=_0x84e6();return _0x1036=function(_0x103672,_0x16107c){_0x103672=_0x103672-0x70;let _0x59f013=_0x84e69b[_0x103672];return _0x59f013;},_0x1036(_0x15d0d0,_0xe0427e);}function _0x84e6(){const _0x2fbed3=['add','Copied!','grid-color-slider','createElement','cos','parameters','41327364xWzMpa','children','moveTo','1070379SkjylU','from','share-container','Color','lowpass','CapsuleGeometry','visible','WebGLRenderer','select','render','2931379FNoHhB','emissiveIntensity','Shape','AdditiveBlending','color','pow','AudioAnalyser','innerHeight','dragonfly-color-slider','72zGgXMY','position','BufferGeometry','lookAt','bezierCurveTo','hint1','pad','currentTime','https://pdragonlabs.github.io/WireBaePDragonLabs/trap.mp3','786lljHzw','copy-link-button','classList','Vibe\x20loaded.\x20Systems\x20nominal.','clone','4HJgNQZ','setVolume','fatsawtooth','https://pdragonlabs.github.io/WireBaePDragonLabs/lo-fi.mp3','length','16n','GridHelper','PolySynth','6603443wXunoM','Transport','Loading\x20new\x20vibe...','textContent','sequencer-toggle-btn','torus','toDestination','Wire\x20Bae\x20Vibe','Points','DoubleSide','10vSRGpx','BoxGeometry','Fallback:\x20Oops,\x20unable\x20to\x20copy','mousemove','MeshBasicMaterial','setHSL','isPlaying','aspect','target','Scene','activation-button','emissive','Draw','enabled','body','square','addEventListener','TorusGeometry','cube','rotation','ConeGeometry','size','material','type','PlaneGeometry','4406781Pghtqc','.obj-btn','geometry','Clock','sphere','MembraneSynth','genre-select','Vector3','start','blob','schedule','share-button','none','sine','https://pdragonlabs.github.io/WireBaePDragonLabs/','Sequence','note','pyramid','sampleRate','exponential','resume','FMSynth','removeChild','setFilter','AudioListener','sin','updateProjectionMatrix','density','querySelectorAll','ai-text','PointsMaterial','688243xpUvsB','addPass','https://pdragonlabs.github.io/WireBaePDragonLabs/old-school.mp3','kick','active','setFromCamera','suspended','copy','clientY','state','toggle','userData','input','remove','bpm','context','getDelta','height','random','Error\x20sharing:','dataset','Group','cursor','FogExp2','started','Mesh','value','setTargetAtTime','particle-color-slider','AMSynth','canShare','point','glow-slider','SphereGeometry','opacity','domElement','flex','6925egDmOG','Stop\x20Sequencer','crosshair','isFlashing','Reverb','Vector2','share','originalPosition','BufferAttribute','AudioLoader','clear-scene-button','load','activation-overlay','4hcJdPR','set','innerWidth','setLoop','setSize','Audio','getFrequencyData','forEach','download-link','dispose','fog','share-image','stop','style','hat','frequency','error','display','click','close-modal-button','getElementById','execCommand','MeshStandardMaterial','connect','Start\x20Sequencer','setAttribute','top','setClearColor','resize','triggerAttackRelease','appendChild','controls-panel','toDataURL','src'];_0x84e6=function(){return _0x2fbed3;};return _0x84e6();}function createDragonfly(){const _0x6aaff2=_0x340d5d;dragonfly=new _0x553590[(_0x6aaff2(0xba))]();const _0xf08a96=new _0x553590[(_0x6aaff2(0xed))]({'color':0xff00ff,'emissive':0xff00ff,'emissiveIntensity':0x2,'metalness':0.8,'roughness':0.2}),_0x581d1f=new _0x553590[(_0x6aaff2(0xbe))](new _0x553590[(_0x6aaff2(0x107))](0.3,0x3,0x4,0x10),_0xf08a96);_0x581d1f['rotation']['x']=Math['PI']/0x2,dragonfly[_0x6aaff2(0xf9)](_0x581d1f);const _0x17047f=new _0x553590[(_0x6aaff2(0xbe))](new _0x553590[(_0x6aaff2(0xc6))](0.5,0x20,0x20),new _0x553590['MeshStandardMaterial']({'color':0xffff,'emissive':0xffff,'emissiveIntensity':0x3,'metalness':0.5,'roughness':0.1}));_0x17047f[_0x6aaff2(0x116)]['z']=0x2,dragonfly[_0x6aaff2(0xf9)](_0x17047f);const _0x5ba808=()=>{const _0x2f90ca=_0x6aaff2,_0x55ff70=new _0x553590[(_0x2f90ca(0x10e))]()[_0x2f90ca(0x101)](0x0,0x0)[_0x2f90ca(0x119)](0x2,0x2,0x8,0x2,0xa,0x0)[_0x2f90ca(0x119)](0x8,-1.5,0x2,-1.5,0x0,0x0),_0x1cafb5=new _0x553590['ShapeGeometry'](_0x55ff70,0x1e);return _0x1cafb5[_0x2f90ca(0xf0)](_0x2f90ca(0xd1),_0x1cafb5['attributes']['position'][_0x2f90ca(0x122)]()),new _0x553590[(_0x2f90ca(0xbe))](_0x1cafb5,new _0x553590[(_0x2f90ca(0x71))]({'color':0xffff,'wireframe':!![],'transparent':!![],'opacity':0.7}));},_0x3f97f1=_0x5ba808();_0x3f97f1[_0x6aaff2(0x116)]['set'](0.5,0x0,0x0),_0x3f97f1[_0x6aaff2(0x80)]['y']=Math['PI'];const _0x3182ec=_0x5ba808();_0x3182ec[_0x6aaff2(0x116)]['set'](-0.5,0x0,0x0);const _0x5ea09c=new _0x553590[(_0x6aaff2(0xba))]();_0x5ea09c[_0x6aaff2(0xf9)](_0x3f97f1,_0x3182ec),_0x5ea09c[_0x6aaff2(0x116)]['z']=-0x1,dragonfly[_0x6aaff2(0xf9)](_0x5ea09c),scene[_0x6aaff2(0xf9)](dragonfly);}function createParticles(){const _0x4b32d5=_0x340d5d,_0x1ab489=new _0x553590[(_0x4b32d5(0x117))](),_0x24d773=new Float32Array(0x1388*0x3);for(let _0x46f38d=0x0;_0x46f38d<_0x24d773[_0x4b32d5(0x127)];_0x46f38d+=0x3){_0x24d773[_0x46f38d]=(Math[_0x4b32d5(0xb7)]()-0.5)*0xc8,_0x24d773[_0x46f38d+0x1]=(Math['random']()-0.5)*0xc8,_0x24d773[_0x46f38d+0x2]=(Math[_0x4b32d5(0xb7)]()-0.5)*0xc8;}_0x1ab489[_0x4b32d5(0xf0)](_0x4b32d5(0x116),new _0x553590[(_0x4b32d5(0xd2))](_0x24d773,0x3)),particles=new _0x553590[(_0x4b32d5(0x133))](_0x1ab489,new _0x553590[(_0x4b32d5(0xa4))]({'color':0xaa00ff,'size':0.1,'transparent':!![],'opacity':0.6,'blending':_0x553590[_0x4b32d5(0x10f)]})),scene[_0x4b32d5(0xf9)](particles);}function createEnvironment(){const _0x2bb5f7=_0x340d5d;gridHelper=new _0x553590[(_0x2bb5f7(0x129))](GRID_SIZE,STEPS,0xaa00ff,0x444444),gridHelper[_0x2bb5f7(0x116)]['y']=-0x14,scene[_0x2bb5f7(0xf9)](gridHelper),groundPlane=new _0x553590['Mesh'](new _0x553590[(_0x2bb5f7(0x85))](GRID_SIZE,GRID_SIZE),new _0x553590['MeshBasicMaterial']({'visible':![]})),groundPlane['rotation']['x']=-Math['PI']/0x2,groundPlane['position']['y']=-0x14,scene[_0x2bb5f7(0xf9)](groundPlane);}function createStars(){const _0x274375=_0x340d5d,_0x41d7cd=new _0x553590[(_0x274375(0x117))](),_0x3f8c46=new Float32Array(0x2710*0x3);for(let _0x4ddb01=0x0;_0x4ddb01<_0x3f8c46['length'];_0x4ddb01+=0x3){_0x3f8c46[_0x4ddb01]=(Math[_0x274375(0xb7)]()-0.5)*0x7d0,_0x3f8c46[_0x4ddb01+0x1]=(Math[_0x274375(0xb7)]()-0.5)*0x7d0,_0x3f8c46[_0x4ddb01+0x2]=(Math[_0x274375(0xb7)]()-0.5)*0x7d0;}_0x41d7cd['setAttribute'](_0x274375(0x116),new _0x553590[(_0x274375(0xd2))](_0x3f8c46,0x3)),stars=new _0x553590['Points'](_0x41d7cd,new _0x553590[(_0x274375(0xa4))]({'color':0xffffff,'size':1.5,'transparent':!![],'opacity':0.8})),scene['add'](stars);}function createPyramids(){const _0x51c8a7=_0x340d5d;pyramids=new _0x553590['Group']();const _0x48dc74=new _0x553590[(_0x51c8a7(0x81))](0x2,0x4,0x4),_0xec1e75=new _0x553590[(_0x51c8a7(0xed))]({'color':0xffff,'emissive':0xffff,'emissiveIntensity':0x1,'metalness':0.8,'roughness':0.2});for(let _0x4efb20=0x0;_0x4efb20<0x14;_0x4efb20++){const _0x5ca110=new _0x553590[(_0x51c8a7(0xbe))](_0x48dc74,_0xec1e75['clone']());_0x5ca110[_0x51c8a7(0x116)][_0x51c8a7(0xd8)]((Math[_0x51c8a7(0xb7)]()-0.5)*0x96,-0x12,(Math[_0x51c8a7(0xb7)]()-0.5)*0x96),pyramids['add'](_0x5ca110);}scene[_0x51c8a7(0xf9)](pyramids);}function createPlacementMarker(){const _0x3eca4a=_0x340d5d,_0x280dd5=new _0x553590[(_0x3eca4a(0x7e))](2.5,0.1,0x10,0x64),_0x5470ec=new _0x553590[(_0x3eca4a(0x71))]({'color':0xffff,'transparent':!![],'opacity':0.5});placementMarker=new _0x553590[(_0x3eca4a(0xbe))](_0x280dd5,_0x5470ec),placementMarker[_0x3eca4a(0x80)]['x']=Math['PI']/0x2,placementMarker[_0x3eca4a(0x108)]=![],scene['add'](placementMarker);}function createPlayhead(){const _0x286224=_0x340d5d,_0x532690=new _0x553590[(_0x286224(0x85))](0.5,GRID_SIZE),_0x223e8c=new _0x553590[(_0x286224(0x71))]({'color':0xff00ff,'side':_0x553590[_0x286224(0x134)],'transparent':!![],'opacity':0.75,'blending':_0x553590[_0x286224(0x10f)]});playhead=new _0x553590['Mesh'](_0x532690,_0x223e8c),playhead[_0x286224(0x80)]['x']=-Math['PI']/0x2,playhead[_0x286224(0x116)]['y']=-19.8,playhead[_0x286224(0x108)]=![],scene[_0x286224(0xf9)](playhead);}function setupEventListeners(){const _0xb966a0=_0x340d5d;window[_0xb966a0(0x7d)](_0xb966a0(0xf3),onWindowResize),window['addEventListener'](_0xb966a0(0x70),onMouseMove),container[_0xb966a0(0x7d)]('click',onSceneClick),activationButton[_0xb966a0(0x7d)]('click',startExperience),genreSelect[_0xb966a0(0x7d)]('change',_0x12f948=>loadAudio(audioTracks[_0x12f948[_0xb966a0(0x75)]['value']])),glowSlider['addEventListener']('input',_0x358659=>{const _0x30be04=_0xb966a0;if(bloomPass)bloomPass['strength']=_0x358659[_0x30be04(0x75)][_0x30be04(0xbf)];}),particleColorSlider['addEventListener']('input',_0x29e275=>{const _0x48565a=_0xb966a0;if(particles)particles[_0x48565a(0x83)][_0x48565a(0x110)][_0x48565a(0x72)](_0x29e275[_0x48565a(0x75)][_0x48565a(0xbf)],0x1,0.5);}),gridColorSlider['addEventListener']('input',_0x368918=>{const _0x3692ae=_0xb966a0;if(gridHelper)gridHelper[_0x3692ae(0x83)][_0x3692ae(0x110)][_0x3692ae(0x72)](_0x368918[_0x3692ae(0x75)]['value'],0x1,0.5);}),dragonflyColorSlider[_0xb966a0(0x7d)](_0xb966a0(0xb1),_0x4bbbe2=>{const _0x594114=_0xb966a0;if(dragonfly){const _0x394730=new _0x553590[(_0x594114(0x105))]()['setHSL'](_0x4bbbe2['target'][_0x594114(0xbf)],0x1,0.5);dragonfly[_0x594114(0x100)][0x0]['material']['color'][_0x594114(0xac)](_0x394730),dragonfly[_0x594114(0x100)][0x0][_0x594114(0x83)][_0x594114(0x78)][_0x594114(0xac)](_0x394730);}}),fogSlider['addEventListener']('input',_0x36cb8b=>{const _0x2d284a=_0xb966a0;if(scene[_0x2d284a(0xe1)])scene['fog'][_0x2d284a(0xa1)]=parseFloat(_0x36cb8b['target'][_0x2d284a(0xbf)]);}),document[_0xb966a0(0xa2)](_0xb966a0(0x87))['forEach'](_0x15426f=>{const _0x399302=_0xb966a0;_0x15426f[_0x399302(0x7d)](_0x399302(0xe9),_0x2f87c5=>{const _0x44d972=_0x399302;setObjectToAdd(_0x2f87c5[_0x44d972(0x75)][_0x44d972(0xb9)][_0x44d972(0x84)]);});}),sequencerToggleButton[_0xb966a0(0x7d)](_0xb966a0(0xe9),()=>{const _0x2858d1=_0xb966a0;Tone[_0x2858d1(0x12c)][_0x2858d1(0xae)]===_0x2858d1(0xbd)?(Tone['Transport'][_0x2858d1(0xe3)](),sequence[_0x2858d1(0xe3)](),playhead[_0x2858d1(0x108)]=![],sequencerToggleButton[_0x2858d1(0x12e)]=_0x2858d1(0xef)):(Tone['Transport']['start'](),sequence[_0x2858d1(0x8e)](0x0),playhead[_0x2858d1(0x108)]=!![],sequencerToggleButton[_0x2858d1(0x12e)]=_0x2858d1(0xcb));}),clearSceneButton[_0xb966a0(0x7d)](_0xb966a0(0xe9),()=>{const _0x803bcb=_0xb966a0;while(spawnedObjects[_0x803bcb(0x100)][_0x803bcb(0x127)]>0x0){const _0x57010f=spawnedObjects[_0x803bcb(0x100)][0x0];spawnedObjects[_0x803bcb(0xb2)](_0x57010f);if(_0x57010f[_0x803bcb(0x88)])_0x57010f[_0x803bcb(0x88)][_0x803bcb(0xe0)]();if(_0x57010f[_0x803bcb(0x83)])_0x57010f[_0x803bcb(0x83)][_0x803bcb(0xe0)]();}}),shareButton[_0xb966a0(0x7d)]('click',takeScreenshot),closeModalButton[_0xb966a0(0x7d)](_0xb966a0(0xe9),()=>{shareModal['style']['display']='none';}),copyLinkButton['addEventListener'](_0xb966a0(0xe9),()=>copyToClipboard(_0xb966a0(0x94))),hint1Ok[_0xb966a0(0x7d)](_0xb966a0(0xe9),()=>hint1[_0xb966a0(0x120)]['remove'](_0xb966a0(0x108)));}function setObjectToAdd(_0x3d7d58){const _0x326012=_0x340d5d;currentObjectToAdd=_0x3d7d58===currentObjectToAdd?null:_0x3d7d58,document[_0x326012(0xa2)](_0x326012(0x87))[_0x326012(0xde)](_0x30b6d3=>{const _0x317ba7=_0x326012;_0x30b6d3[_0x317ba7(0x120)][_0x317ba7(0xaf)](_0x317ba7(0xa9),_0x30b6d3[_0x317ba7(0xb9)]['type']===currentObjectToAdd);}),placementMarker[_0x326012(0x108)]=!!currentObjectToAdd,container[_0x326012(0xe4)][_0x326012(0xbb)]=currentObjectToAdd?_0x326012(0xcc):_0x326012(0x92);}function onSceneClick(_0x20885c){const _0x3c8876=_0x340d5d;if(!isExperienceActive||!currentObjectToAdd)return;raycaster['setFromCamera'](mouse,camera);const _0x343bbd=raycaster['intersectObject'](groundPlane);_0x343bbd[_0x3c8876(0x127)]>0x0&&spawnObject(_0x343bbd[0x0][_0x3c8876(0xc4)]);}function spawnObject(_0x580447){const _0x3f2cb8=_0x340d5d;let _0x34b9fb;const _0x1c1d70=-0x12;switch(currentObjectToAdd){case _0x3f2cb8(0x7f):_0x34b9fb=new _0x553590[(_0x3f2cb8(0x136))](0x4,0x4,0x4);break;case'sphere':_0x34b9fb=new _0x553590[(_0x3f2cb8(0xc6))](0x2,0x20,0x20);break;case _0x3f2cb8(0x130):_0x34b9fb=new _0x553590['TorusGeometry'](0x2,0.8,0x10,0x64);break;case _0x3f2cb8(0x97):_0x34b9fb=new _0x553590[(_0x3f2cb8(0x81))](0x3,0x5,0x4);break;}const _0x3f55b6=new _0x553590[(_0x3f2cb8(0xed))]({'color':0xffffff,'emissive':0xffffff,'emissiveIntensity':0x1,'metalness':0.8,'roughness':0.2});_0x3f55b6[_0x3f2cb8(0x110)]['setHSL'](Math[_0x3f2cb8(0xb7)](),0x1,0.5),_0x3f55b6[_0x3f2cb8(0x78)][_0x3f2cb8(0xac)](_0x3f55b6['color']);const _0x283c6f=new _0x553590['Mesh'](_0x34b9fb,_0x3f55b6);_0x283c6f['position'][_0x3f2cb8(0xac)](_0x580447),_0x283c6f[_0x3f2cb8(0x116)]['y']=_0x1c1d70+(_0x34b9fb[_0x3f2cb8(0xfe)][_0x3f2cb8(0xb6)]||0x4)/0x2,_0x283c6f[_0x3f2cb8(0xb0)][_0x3f2cb8(0x84)]=currentObjectToAdd,spawnedObjects[_0x3f2cb8(0xf9)](_0x283c6f);}function onWindowResize(){const _0x4a06d4=_0x340d5d;camera[_0x4a06d4(0x74)]=window[_0x4a06d4(0xd9)]/window[_0x4a06d4(0x113)],camera[_0x4a06d4(0xa0)](),renderer[_0x4a06d4(0xdb)](window['innerWidth'],window[_0x4a06d4(0x113)]),composer[_0x4a06d4(0xdb)](window[_0x4a06d4(0xd9)],window['innerHeight']);}function onMouseMove(_0x157c14){const _0x471c2a=_0x340d5d;mouse['x']=_0x157c14['clientX']/window['innerWidth']*0x2-0x1,mouse['y']=-(_0x157c14[_0x471c2a(0xad)]/window[_0x471c2a(0x113)])*0x2+0x1;if(isExperienceActive){cursorLight[_0x471c2a(0xe4)]['left']=_0x157c14['clientX']+'px',cursorLight[_0x471c2a(0xe4)][_0x471c2a(0xf1)]=_0x157c14[_0x471c2a(0xad)]+'px';if(filter){const _0x2549f7=0xc8,_0x6cc00c=audio[_0x471c2a(0xb4)][_0x471c2a(0x98)]/0x2;targetFrequency=_0x2549f7*Math[_0x471c2a(0x111)](_0x6cc00c/_0x2549f7,(mouse['y']+0x1)/0x2);}if(audio){const _0x1ae4cd=0.75,_0x3473d3=1.25;audio['setPlaybackRate'](_0x1ae4cd+(mouse['x']+0x1)/0x2*(_0x3473d3-_0x1ae4cd));}}}async function startExperience(){const _0x373fe1=_0x340d5d;if(isExperienceActive)return;await Tone['start']();if(audio[_0x373fe1(0xb4)][_0x373fe1(0xae)]===_0x373fe1(0xab))audio[_0x373fe1(0xb4)][_0x373fe1(0x9a)]();isExperienceActive=!![],activationOverlay[_0x373fe1(0xe4)][_0x373fe1(0xc7)]='0',activationOverlay[_0x373fe1(0xe4)]['pointerEvents']='none',cursorLight[_0x373fe1(0xe4)]['opacity']='1',controlsPanel[_0x373fe1(0xe4)]['opacity']='1',shareContainer['style'][_0x373fe1(0xc7)]='1',loadAudio(audioTracks[genreSelect[_0x373fe1(0xbf)]]),setTimeout(()=>hint1[_0x373fe1(0x120)]['add']('visible'),0x3e8);}function displayShareModal(_0x494539){const _0x1b8e60=_0x340d5d;shareImage[_0x1b8e60(0xf8)]=_0x494539,downloadLink['href']=_0x494539,shareModal[_0x1b8e60(0xe4)][_0x1b8e60(0xe8)]=_0x1b8e60(0xc9);}function copyToClipboard(_0x466149){const _0x833a18=_0x340d5d,_0xfbc6be=document[_0x833a18(0xfc)]('textarea');_0xfbc6be[_0x833a18(0xbf)]=_0x466149,document[_0x833a18(0x7b)][_0x833a18(0xf5)](_0xfbc6be),_0xfbc6be[_0x833a18(0x10a)]();try{document[_0x833a18(0xec)](_0x833a18(0xac));const _0x3df038=copyLinkButton[_0x833a18(0x12e)];copyLinkButton[_0x833a18(0x12e)]=_0x833a18(0xfa),setTimeout(()=>{const _0x44163a=_0x833a18;copyLinkButton[_0x44163a(0x12e)]=_0x3df038;},0x7d0);}catch(_0x1f854b){console[_0x833a18(0xe7)](_0x833a18(0x137),_0x1f854b);}document['body'][_0x833a18(0x9c)](_0xfbc6be);}async function takeScreenshot(){const _0x1c85c3=_0x340d5d;composer[_0x1c85c3(0x10b)]();const _0x5cb0c7=renderer[_0x1c85c3(0xc8)][_0x1c85c3(0xf7)]('image/png'),_0x47edd8=_0x1c85c3(0x94);try{const _0x4ebee1=await(await fetch(_0x5cb0c7))[_0x1c85c3(0x8f)](),_0x4884b8=new File([_0x4ebee1],'wire-bae-vibe.png',{'type':_0x4ebee1[_0x1c85c3(0x84)]});navigator[_0x1c85c3(0xd0)]&&navigator[_0x1c85c3(0xc3)]({'files':[_0x4884b8]})?await navigator[_0x1c85c3(0xd0)]({'files':[_0x4884b8],'title':_0x1c85c3(0x132),'text':'Check\x20out\x20my\x20vibe\x20on\x20Wire\x20Bae!','url':_0x47edd8}):displayShareModal(_0x5cb0c7);}catch(_0x67937f){console[_0x1c85c3(0xe7)](_0x1c85c3(0xb8),_0x67937f),displayShareModal(_0x5cb0c7);}}function animate(){const _0x559d37=_0x340d5d;requestAnimationFrame(animate);const _0xec207f=clock[_0x559d37(0xb5)](),_0x597946=clock['getElapsedTime']();let _0x34f734=0x0,_0x1f9bc9=0x0,_0x3be28a=0x0;if(isExperienceActive){if(analyser){const _0x54cb29=analyser[_0x559d37(0xdd)]();_0x34f734=_0x54cb29[0x2]/0xff,_0x1f9bc9=_0x54cb29[0x1e]/0xff,_0x3be28a=_0x54cb29[0x3c]/0xff;}if(filter)filter[_0x559d37(0xe6)][_0x559d37(0xc0)](targetFrequency,audio[_0x559d37(0xb4)][_0x559d37(0x11c)],0.05);_0x34f734>0.9&&!glitchPass[_0x559d37(0x7a)]&&(glitchPass[_0x559d37(0x7a)]=!![],setTimeout(()=>{const _0x3840d0=_0x559d37;glitchPass[_0x3840d0(0x7a)]=![];},0x64));if(placementMarker[_0x559d37(0x108)]){raycaster[_0x559d37(0xaa)](mouse,camera);const _0x1e07f0=raycaster['intersectObject'](groundPlane);_0x1e07f0[_0x559d37(0x127)]>0x0&&(placementMarker[_0x559d37(0x116)][_0x559d37(0xac)](_0x1e07f0[0x0]['point']),placementMarker['position']['y']=-19.9);}}if(dragonfly){dragonfly[_0x559d37(0x116)]['set'](Math[_0x559d37(0x9f)](_0x597946*0.3)*0xa,Math['cos'](_0x597946*0.5)*0x5,Math[_0x559d37(0xfd)](_0x597946*0.2)*0xa);const _0x4a5d06=new _0x553590[(_0x559d37(0x8d))](Math[_0x559d37(0x9f)]((_0x597946+0.1)*0.3)*0xa,Math[_0x559d37(0xfd)]((_0x597946+0.1)*0.5)*0x5,Math[_0x559d37(0xfd)]((_0x597946+0.1)*0.2)*0xa);dragonfly[_0x559d37(0x118)](_0x4a5d06);const _0x1c8385=dragonfly[_0x559d37(0x100)][0x2];if(_0x1c8385){const _0x56ad0d=0x2+_0x34f734*0xa;_0x1c8385['children'][0x0][_0x559d37(0x80)]['z']=Math[_0x559d37(0x9f)](_0x597946*_0x56ad0d)*0.5,_0x1c8385['children'][0x1]['rotation']['z']=-Math[_0x559d37(0x9f)](_0x597946*_0x56ad0d)*0.5;}dragonfly[_0x559d37(0x100)][0x1]['material'][_0x559d37(0x10d)]=0x2+_0x34f734*0x5;}particles&&(particles[_0x559d37(0x80)]['y']+=_0xec207f*0.05,particles[_0x559d37(0x83)][_0x559d37(0x82)]=0.1+_0x34f734*0.2,particles['material']['opacity']=0.6+_0x3be28a*0.4),pyramids&&pyramids[_0x559d37(0x100)]['forEach']((_0xf46e48,_0x364c97)=>{const _0x4d84d0=_0x559d37;_0xf46e48[_0x4d84d0(0x116)]['y']=-0x12+Math[_0x4d84d0(0x9f)](_0x597946*0x2+_0x364c97)*0x2,_0xf46e48[_0x4d84d0(0x83)][_0x4d84d0(0x10d)]=_0x34f734*0x2;}),spawnedObjects&&spawnedObjects['children'][_0x559d37(0xde)]((_0x290a1e,_0x5f0a61)=>{const _0x5b65d6=_0x559d37;_0x290a1e[_0x5b65d6(0x80)]['y']+=_0xec207f*0.2*(_0x5f0a61%0x2===0x0?0x1:-0x1);if(!_0x290a1e[_0x5b65d6(0xb0)][_0x5b65d6(0xcd)])_0x290a1e[_0x5b65d6(0x83)][_0x5b65d6(0x10d)]=0.5+_0x34f734*1.5;}),composer[_0x559d37(0x10b)](_0xec207f);}init();