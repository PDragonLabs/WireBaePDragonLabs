const _0x76bd73=_0x1601;(function(_0x427d90,_0x4f410c){const _0x1f244b=_0x1601,_0x6ca7a=_0x427d90();while(!![]){try{const _0x220905=parseInt(_0x1f244b(0x1d8))/0x1+-parseInt(_0x1f244b(0x120))/0x2+parseInt(_0x1f244b(0x20c))/0x3*(parseInt(_0x1f244b(0x139))/0x4)+-parseInt(_0x1f244b(0x156))/0x5+-parseInt(_0x1f244b(0x157))/0x6*(parseInt(_0x1f244b(0x1a1))/0x7)+-parseInt(_0x1f244b(0x1ee))/0x8+parseInt(_0x1f244b(0x167))/0x9;if(_0x220905===_0x4f410c)break;else _0x6ca7a['push'](_0x6ca7a['shift']());}catch(_0x2755ac){_0x6ca7a['push'](_0x6ca7a['shift']());}}}(_0x2f0c,0x6d5c3));import*as _0x37a648 from'three';import{EffectComposer}from'three/addons/postprocessing/EffectComposer.js';import{RenderPass}from'three/addons/postprocessing/RenderPass.js';import{UnrealBloomPass}from'three/addons/postprocessing/UnrealBloomPass.js';import{GlitchPass}from'three/addons/postprocessing/GlitchPass.js';let scene,camera,renderer,composer,clock,bloomPass,glitchPass,dragonfly,particles,audio,analyser,filter,targetFrequency,gridHelper,pyramids,stars,spawnedObjects,vibePinGroup,raycaster,groundPlane,placementMarker,playhead,currentObjectToAdd=null;const mouse=new _0x37a648[(_0x76bd73(0x1b8))]();function _0x2f0c(){const _0xf4b1d8=['prepend','from','createElement','genre-select','point','lookAt','input','innerWidth','currentTime','fillText','devicePixelRatio','Shape','contains','href','dataset','16n','close-modal-button','visible','resize','body','https://pdragonlabs.github.io/WireBaePDragonLabs/cyber-funk.mp3','Points','selected','setClearColor','execCommand','wire-bae-vibe.png','geometry','type','paused','download-link','Raycaster','CylinderGeometry','catch','getElementById','multiplyScalar','copy','push','35HBMWiB','pointerEvents','clone','sampleRate','context','cos','clientX','style','children','click','classList','hatVolume','kick','result','schedule','SphereGeometry','Volume','linearRampToValueAtTime','particle-color-slider','height','Fallback:\x20Oops,\x20unable\x20to\x20copy','className','load','Vector2','fog','domElement','Bold\x2040px\x20Rajdhani','density','Check\x20out\x20my\x20vibe\x20on\x20Wire\x20Bae!','canvas','cursor-light','clear-scene-button','select','Resume\x20Sequencer','enabled','share-button','getFrequencyData','Group','.obj-btn','getContext','exponential','ai-text','intersectObject','forEach','find','option','isFlashing','WebGLRenderer','setBuffer','activation-button','innerHeight','note-volume-slider','onload','Draw','pin-list','685891RNTuPD','setHSL','set','blob','setAttribute','fatsawtooth','random','bpm','strength','PointsMaterial','getElapsedTime','custom','version-display','activation-overlay','error','hint1','rotation','grid-color-slider','pow','canShare','Pin\x20','hint3-ok','6627592eMILDf','torus','Loading\x20new\x20vibe...','resume','share-container','Go\x20to','volume','setVolume','Reverb','start','Mesh','crosshair','rate','sub','target','toDestination','Stop\x20Sequencer','padVolume','src','Sprite','Clock','isActive','GridHelper','controls-panel','remove','setFromCamera','MeshStandardMaterial','audio/mpeg','FMSynth','Error\x20starting\x20Tone.js\x20AudioContext:','105483UrfeUQ','add','object','closest','hint3','addEventListener','intersectObjects','value','Remove','pad-volume-slider','Color','share','floor','BufferAttribute','display','823934TsGiEY','Vibe\x20loaded.\x20Systems\x20nominal.','glow-slider','sine','readAsDataURL','Scene','scale','MeshBasicMaterial','started','frequency','AudioListener','remove-btn','Audio','material','note','querySelectorAll','play','pyramid','size','BufferGeometry','option[value=\x22custom\x22]','setPixelRatio','length','getPlaybackRate','scene-container','56WNqpVP','button','opacity','sin','appendChild','image/png','share-modal','Audio\x20failed\x20to\x20load.','textContent','noteVolume','clientY','emissive','setFilter','hat','hint2-ok','freq','connect','isPlaying','moveTo','createBiquadFilter','removeChild','https://pdragonlabs.github.io/WireBaePDragonLabs/','position','top','Custom\x20Track','copy-link-button','cursor','PerspectiveCamera','share-image','2517765XTXQoO','541914qyWuUo','MembraneSynth','change','ConeGeometry','kickVolume','AdditiveBlending','triggerAttackRelease','pad','userData','files','pause','ShapeGeometry','goto-btn','Error\x20sharing:','state','MetalSynth','13188222bGgbcN','dispose','PlaneGeometry','bezierCurveTo','setTargetAtTime','font','setPlaybackRate','addPass','setSize','emissiveIntensity','filter','AudioLoader','hint2','color','render','cube','Copied!','innerHTML','none','Transport','Sequence'];_0x2f0c=function(){return _0xf4b1d8;};return _0x2f0c();}let isExperienceActive=![],synths={},sequence;const GRID_SIZE=0xc8,STEPS=0x10;let isVibePinned=![],vibePins=[];const container=document[_0x76bd73(0x19d)](_0x76bd73(0x138)),activationOverlay=document[_0x76bd73(0x19d)](_0x76bd73(0x1e5)),activationButton=document[_0x76bd73(0x19d)](_0x76bd73(0x1d2)),cursorLight=document[_0x76bd73(0x19d)](_0x76bd73(0x1bf)),aiText=document[_0x76bd73(0x19d)](_0x76bd73(0x1ca)),controlsPanel=document[_0x76bd73(0x19d)](_0x76bd73(0x205)),shareContainer=document[_0x76bd73(0x19d)](_0x76bd73(0x1f2)),versionDisplay=document['getElementById'](_0x76bd73(0x1e4)),genreSelect=document[_0x76bd73(0x19d)](_0x76bd73(0x17f)),glowSlider=document['getElementById'](_0x76bd73(0x122)),particleColorSlider=document[_0x76bd73(0x19d)](_0x76bd73(0x1b3)),gridColorSlider=document[_0x76bd73(0x19d)](_0x76bd73(0x1e9)),dragonflyColorSlider=document['getElementById']('dragonfly-color-slider'),fogSlider=document['getElementById']('fog-slider'),mp3UploadInput=document['getElementById']('upload-mp3'),clearSceneButton=document[_0x76bd73(0x19d)](_0x76bd73(0x1c0)),sequencerToggleButton=document[_0x76bd73(0x19d)]('sequencer-toggle-btn'),pinList=document[_0x76bd73(0x19d)](_0x76bd73(0x1d7)),kickVolumeSlider=document[_0x76bd73(0x19d)]('kick-volume-slider'),hatVolumeSlider=document[_0x76bd73(0x19d)]('hat-volume-slider'),noteVolumeSlider=document[_0x76bd73(0x19d)](_0x76bd73(0x1d4)),padVolumeSlider=document[_0x76bd73(0x19d)](_0x76bd73(0x11a)),shareButton=document[_0x76bd73(0x19d)](_0x76bd73(0x1c4)),shareModal=document['getElementById'](_0x76bd73(0x13f)),shareImage=document['getElementById'](_0x76bd73(0x155)),downloadLink=document[_0x76bd73(0x19d)](_0x76bd73(0x199)),closeModalButton=document['getElementById'](_0x76bd73(0x18c)),copyLinkButton=document[_0x76bd73(0x19d)](_0x76bd73(0x152)),hint1=document['getElementById'](_0x76bd73(0x1e7)),hint1Ok=document[_0x76bd73(0x19d)]('hint1-ok'),hint2=document[_0x76bd73(0x19d)](_0x76bd73(0x173)),hint2Ok=document[_0x76bd73(0x19d)](_0x76bd73(0x147)),hint3=document[_0x76bd73(0x19d)](_0x76bd73(0x210)),hint3Ok=document['getElementById'](_0x76bd73(0x1ed)),audioTracks={'cyber-funk':_0x76bd73(0x190),'trap':'https://pdragonlabs.github.io/WireBaePDragonLabs/trap.mp3','lo-fi':'https://pdragonlabs.github.io/WireBaePDragonLabs/lo-fi.mp3','old-school':'https://pdragonlabs.github.io/WireBaePDragonLabs/old-school.mp3'};function init(){const _0x40f889=_0x76bd73;scene=new _0x37a648[(_0x40f889(0x125))](),scene[_0x40f889(0x1b9)]=new _0x37a648['FogExp2'](0xa0014,0.005),clock=new _0x37a648[(_0x40f889(0x202))](),camera=new _0x37a648[(_0x40f889(0x154))](0x4b,window[_0x40f889(0x183)]/window['innerHeight'],0.1,0x3e8),camera['position'][_0x40f889(0x1da)](0x0,0x5,0x23),renderer=new _0x37a648[(_0x40f889(0x1d0))]({'antialias':!![],'preserveDrawingBuffer':!![]}),renderer[_0x40f889(0x135)](window[_0x40f889(0x186)]),renderer[_0x40f889(0x16f)](window[_0x40f889(0x183)],window[_0x40f889(0x1d3)]),renderer[_0x40f889(0x193)](0xa0014,0x1),container[_0x40f889(0x13d)](renderer[_0x40f889(0x1ba)]),raycaster=new _0x37a648[(_0x40f889(0x19a))](),spawnedObjects=new _0x37a648[(_0x40f889(0x1c6))](),vibePinGroup=new _0x37a648[(_0x40f889(0x1c6))](),scene[_0x40f889(0x20d)](spawnedObjects,vibePinGroup),setupPostProcessing(),setupAudio(),setupSynths(),setupSequencer(),createDragonfly(),createParticles(),createEnvironment(),createStars(),createPyramids(),createPlacementMarker(),createPlayhead(),setupEventListeners(),animate();}function setupPostProcessing(){const _0x495630=_0x76bd73,_0x117180=new RenderPass(scene,camera);bloomPass=new UnrealBloomPass(new _0x37a648[(_0x495630(0x1b8))](window[_0x495630(0x183)],window['innerHeight']),1.5,0.4,0.85),glitchPass=new GlitchPass(),glitchPass[_0x495630(0x1c3)]=![],composer=new EffectComposer(renderer),composer['addPass'](_0x117180),composer['addPass'](bloomPass),composer[_0x495630(0x16e)](glitchPass);}function setupAudio(){const _0x309654=_0x76bd73,_0x31216c=new _0x37a648[(_0x309654(0x12a))]();camera[_0x309654(0x20d)](_0x31216c),audio=new _0x37a648[(_0x309654(0x12c))](_0x31216c),analyser=new _0x37a648['AudioAnalyser'](audio,0x80),filter=audio[_0x309654(0x1a5)][_0x309654(0x14c)](),filter[_0x309654(0x197)]='lowpass',targetFrequency=audio['context']['sampleRate']/0x2,filter[_0x309654(0x129)][_0x309654(0x213)]=targetFrequency,filter['Q'][_0x309654(0x213)]=0x1,audio[_0x309654(0x145)](filter);}function setupSynths(){const _0x52bc39=_0x76bd73,_0x49d641=new Tone[(_0x52bc39(0x1f6))](0x2)[_0x52bc39(0x1fd)]();synths[_0x52bc39(0x15b)]=new Tone[(_0x52bc39(0x1b1))](0x0)[_0x52bc39(0x1fd)](),synths['hatVolume']=new Tone[(_0x52bc39(0x1b1))](0x0)[_0x52bc39(0x1fd)](),synths[_0x52bc39(0x142)]=new Tone[(_0x52bc39(0x1b1))](0x0)[_0x52bc39(0x149)](_0x49d641),synths[_0x52bc39(0x1ff)]=new Tone[(_0x52bc39(0x1b1))](0x0)['connect'](_0x49d641),synths[_0x52bc39(0x1ad)]=new Tone[(_0x52bc39(0x158))]({'pitchDecay':0.05,'octaves':0xa,'oscillator':{'type':_0x52bc39(0x123)},'envelope':{'attack':0.001,'decay':0.4,'sustain':0.01,'release':1.4,'attackCurve':_0x52bc39(0x1c9)}})[_0x52bc39(0x149)](synths['kickVolume']),synths[_0x52bc39(0x146)]=new Tone[(_0x52bc39(0x166))]({'frequency':0xc8,'envelope':{'attack':0.001,'decay':0.1,'release':0.01},'harmonicity':5.1,'modulationIndex':0x20,'resonance':0xfa0,'octaves':1.5})['connect'](synths['hatVolume']),synths[_0x52bc39(0x12e)]=new Tone[(_0x52bc39(0x20a))]({'harmonicity':0x3,'modulationIndex':0xa,'detune':0x0,'oscillator':{'type':_0x52bc39(0x123)},'envelope':{'attack':0.01,'decay':0.1,'sustain':0.5,'release':0x1},'modulation':{'type':'square'},'modulationEnvelope':{'attack':0.5,'decay':0x0,'sustain':0x1,'release':0.5}})[_0x52bc39(0x149)](synths[_0x52bc39(0x142)]),synths['pad']=new Tone['PolySynth'](Tone['AMSynth'],{'harmonicity':1.5,'detune':0x0,'oscillator':{'type':_0x52bc39(0x1dd)},'envelope':{'attack':0.1,'decay':0.2,'sustain':0.5,'release':1.2},'modulation':{'type':_0x52bc39(0x123)},'modulationEnvelope':{'attack':0.5,'decay':0x0,'sustain':0x1,'release':0.5}})[_0x52bc39(0x149)](synths['padVolume']);}function setupSequencer(){const _0x2ba7bc=_0x76bd73,_0x5d6363=Array[_0x2ba7bc(0x17d)]({'length':STEPS},(_0x2a428d,_0xee6a22)=>_0xee6a22);sequence=new Tone[(_0x2ba7bc(0x17b))]((_0x3c5fc8,_0x5c6f8f)=>{const _0x522d93=_0x2ba7bc;Tone[_0x522d93(0x1d6)]['schedule'](()=>{playhead['position']['x']=-GRID_SIZE/0x2+_0x5c6f8f/(STEPS-0x1)*GRID_SIZE;},_0x3c5fc8),spawnedObjects[_0x522d93(0x1a9)]['forEach'](_0x4e56b5=>{const _0x382d70=_0x522d93,_0x3fc395=Math[_0x382d70(0x11d)]((_0x4e56b5[_0x382d70(0x14f)]['x']+GRID_SIZE/0x2)/GRID_SIZE*STEPS);_0x3fc395===_0x5c6f8f&&(triggerSound(_0x4e56b5,_0x3c5fc8),Tone[_0x382d70(0x1d6)][_0x382d70(0x1af)](()=>flashObject(_0x4e56b5),_0x3c5fc8));});},_0x5d6363,'16n'),Tone[_0x2ba7bc(0x17a)][_0x2ba7bc(0x1df)][_0x2ba7bc(0x213)]=0x78;}function triggerSound(_0x5e415c,_0x5d13ee){const _0x2582a7=_0x76bd73,_0x225642=0x1-(_0x5e415c['position']['z']+GRID_SIZE/0x2)/GRID_SIZE;switch(_0x5e415c[_0x2582a7(0x15f)]['type']){case _0x2582a7(0x176):synths['kick'][_0x2582a7(0x15d)]('C1','8n',_0x5d13ee);break;case _0x2582a7(0x131):synths['hat'][_0x2582a7(0x15d)]('C4',_0x2582a7(0x18b),_0x5d13ee);break;case'sphere':synths['note'][_0x2582a7(0x15d)](0xc8+_0x225642*0x320,'8n',_0x5d13ee);break;case _0x2582a7(0x1ef):synths[_0x2582a7(0x15e)][_0x2582a7(0x15d)](['C2','E2','G2'],'4n',_0x5d13ee);break;}}function flashObject(_0x49fbbc){const _0x1f581c=_0x76bd73;_0x49fbbc[_0x1f581c(0x15f)][_0x1f581c(0x1cf)]=!![],_0x49fbbc[_0x1f581c(0x12d)][_0x1f581c(0x170)]=0x5,setTimeout(()=>{const _0x2710bd=_0x1f581c;_0x49fbbc['material'][_0x2710bd(0x170)]=0x1,_0x49fbbc['userData']['isFlashing']=![];},0x64);}function loadAudio(_0x556a6a,_0x3dd40d=![]){const _0x522cae=_0x76bd73;if(audio[_0x522cae(0x14a)])audio['stop']();const _0x4a771e=new _0x37a648[(_0x522cae(0x172))]();aiText[_0x522cae(0x141)]=_0x522cae(0x1f0),_0x4a771e[_0x522cae(0x1b7)](_0x556a6a,_0x4c24d0=>{const _0x5e2b11=_0x522cae;audio[_0x5e2b11(0x1d1)](_0x4c24d0),audio['setLoop'](!![]),audio[_0x5e2b11(0x1f5)](0.5);if(isExperienceActive)audio[_0x5e2b11(0x130)]();aiText[_0x5e2b11(0x141)]=_0x5e2b11(0x121);if(_0x3dd40d){let _0x1686e5=genreSelect['querySelector'](_0x5e2b11(0x134));!_0x1686e5&&(_0x1686e5=document[_0x5e2b11(0x17e)](_0x5e2b11(0x1ce)),_0x1686e5[_0x5e2b11(0x213)]=_0x5e2b11(0x1e3),_0x1686e5[_0x5e2b11(0x141)]=_0x5e2b11(0x151),genreSelect[_0x5e2b11(0x17c)](_0x1686e5)),_0x1686e5[_0x5e2b11(0x192)]=!![];}},undefined,_0x590bce=>{const _0x251643=_0x522cae;console[_0x251643(0x1e6)]('An\x20error\x20happened\x20while\x20loading\x20audio.',_0x590bce),aiText[_0x251643(0x141)]=_0x251643(0x140);});}function createDragonfly(){const _0x49bb7a=_0x76bd73;dragonfly=new _0x37a648[(_0x49bb7a(0x1c6))]();const _0x330da8=new _0x37a648[(_0x49bb7a(0x208))]({'color':0xff00ff,'emissive':0xff00ff,'emissiveIntensity':0x2,'metalness':0.8,'roughness':0.2}),_0x1e8cd8=new _0x37a648[(_0x49bb7a(0x1f8))](new _0x37a648['CapsuleGeometry'](0.3,0x3,0x4,0x10),_0x330da8);_0x1e8cd8['rotation']['x']=Math['PI']/0x2,dragonfly[_0x49bb7a(0x20d)](_0x1e8cd8);const _0x148471=new _0x37a648[(_0x49bb7a(0x1f8))](new _0x37a648['SphereGeometry'](0.5,0x20,0x20),new _0x37a648[(_0x49bb7a(0x208))]({'color':0xffff,'emissive':0xffff,'emissiveIntensity':0x3,'metalness':0.5,'roughness':0.1}));_0x148471[_0x49bb7a(0x14f)]['z']=0x2,dragonfly[_0x49bb7a(0x20d)](_0x148471);const _0x4dd371=()=>{const _0x46c589=_0x49bb7a,_0x1e5497=new _0x37a648[(_0x46c589(0x187))]()[_0x46c589(0x14b)](0x0,0x0)['bezierCurveTo'](0x2,0x2,0x8,0x2,0xa,0x0)[_0x46c589(0x16a)](0x8,-1.5,0x2,-1.5,0x0,0x0),_0x36eec4=new _0x37a648[(_0x46c589(0x162))](_0x1e5497,0x1e);return _0x36eec4[_0x46c589(0x1dc)]('originalPosition',_0x36eec4['attributes'][_0x46c589(0x14f)][_0x46c589(0x1a3)]()),new _0x37a648[(_0x46c589(0x1f8))](_0x36eec4,new _0x37a648[(_0x46c589(0x127))]({'color':0xffff,'wireframe':!![],'transparent':!![],'opacity':0.7}));},_0x541cee=_0x4dd371();_0x541cee[_0x49bb7a(0x14f)][_0x49bb7a(0x1da)](0.5,0x0,0x0),_0x541cee[_0x49bb7a(0x1e8)]['y']=Math['PI'];const _0x300d3a=_0x4dd371();_0x300d3a[_0x49bb7a(0x14f)][_0x49bb7a(0x1da)](-0.5,0x0,0x0);const _0x3f1fbf=new _0x37a648[(_0x49bb7a(0x1c6))]();_0x3f1fbf['add'](_0x541cee,_0x300d3a),_0x3f1fbf['position']['z']=-0x1,dragonfly[_0x49bb7a(0x20d)](_0x3f1fbf),scene[_0x49bb7a(0x20d)](dragonfly);}function createParticles(){const _0x1542d9=_0x76bd73,_0x45b2cb=new _0x37a648[(_0x1542d9(0x133))](),_0x3b0ad4=new Float32Array(0xbb8*0x3);for(let _0x3c321c=0x0;_0x3c321c<_0x3b0ad4[_0x1542d9(0x136)];_0x3c321c+=0x3){_0x3b0ad4[_0x3c321c]=(Math['random']()-0.5)*0xc8,_0x3b0ad4[_0x3c321c+0x1]=(Math[_0x1542d9(0x1de)]()-0.5)*0xc8,_0x3b0ad4[_0x3c321c+0x2]=(Math[_0x1542d9(0x1de)]()-0.5)*0xc8;}_0x45b2cb[_0x1542d9(0x1dc)]('position',new _0x37a648['BufferAttribute'](_0x3b0ad4,0x3)),particles=new _0x37a648[(_0x1542d9(0x191))](_0x45b2cb,new _0x37a648[(_0x1542d9(0x1e1))]({'color':0xaa00ff,'size':0.1,'transparent':!![],'opacity':0.6,'blending':_0x37a648[_0x1542d9(0x15c)]})),scene[_0x1542d9(0x20d)](particles);}function createEnvironment(){const _0x4b9368=_0x76bd73;gridHelper=new _0x37a648[(_0x4b9368(0x204))](GRID_SIZE,STEPS,0xaa00ff,0x444444),gridHelper[_0x4b9368(0x14f)]['y']=-0x14,scene[_0x4b9368(0x20d)](gridHelper),groundPlane=new _0x37a648['Mesh'](new _0x37a648[(_0x4b9368(0x169))](GRID_SIZE,GRID_SIZE),new _0x37a648[(_0x4b9368(0x127))]({'visible':![]})),groundPlane[_0x4b9368(0x1e8)]['x']=-Math['PI']/0x2,groundPlane[_0x4b9368(0x14f)]['y']=-0x14,scene[_0x4b9368(0x20d)](groundPlane);}function _0x1601(_0x260513,_0x2e9493){const _0x2f0cfe=_0x2f0c();return _0x1601=function(_0x16013d,_0xd756ad){_0x16013d=_0x16013d-0x11a;let _0xc5334=_0x2f0cfe[_0x16013d];return _0xc5334;},_0x1601(_0x260513,_0x2e9493);}function createStars(){const _0x2b840c=_0x76bd73,_0x1f785a=new _0x37a648['BufferGeometry'](),_0x536d15=new Float32Array(0x2710*0x3);for(let _0x2e3fc5=0x0;_0x2e3fc5<_0x536d15['length'];_0x2e3fc5+=0x3){_0x536d15[_0x2e3fc5]=(Math['random']()-0.5)*0x7d0,_0x536d15[_0x2e3fc5+0x1]=(Math[_0x2b840c(0x1de)]()-0.5)*0x7d0,_0x536d15[_0x2e3fc5+0x2]=(Math[_0x2b840c(0x1de)]()-0.5)*0x7d0;}_0x1f785a[_0x2b840c(0x1dc)](_0x2b840c(0x14f),new _0x37a648[(_0x2b840c(0x11e))](_0x536d15,0x3)),stars=new _0x37a648['Points'](_0x1f785a,new _0x37a648['PointsMaterial']({'color':0xffffff,'size':1.5,'transparent':!![],'opacity':0.8})),scene[_0x2b840c(0x20d)](stars);}function createPyramids(){const _0x190fbd=_0x76bd73;pyramids=new _0x37a648[(_0x190fbd(0x1c6))]();const _0x3ddba7=new _0x37a648['ConeGeometry'](0x2,0x4,0x4),_0x1b96d9=new _0x37a648[(_0x190fbd(0x208))]({'color':0xffff,'emissive':0xffff,'emissiveIntensity':0x1,'metalness':0.8,'roughness':0.2});for(let _0x4eeb61=0x0;_0x4eeb61<0x14;_0x4eeb61++){const _0x288074=new _0x37a648['Mesh'](_0x3ddba7,_0x1b96d9[_0x190fbd(0x1a3)]());_0x288074['position'][_0x190fbd(0x1da)]((Math[_0x190fbd(0x1de)]()-0.5)*0x96,-0x12,(Math[_0x190fbd(0x1de)]()-0.5)*0x96),pyramids[_0x190fbd(0x20d)](_0x288074);}scene['add'](pyramids);}function createPlacementMarker(){const _0x37dde7=_0x76bd73,_0x37fc07=new _0x37a648['TorusGeometry'](2.5,0.1,0x10,0x64),_0x144a0e=new _0x37a648['MeshBasicMaterial']({'color':0xffff,'transparent':!![],'opacity':0.5});placementMarker=new _0x37a648[(_0x37dde7(0x1f8))](_0x37fc07,_0x144a0e),placementMarker[_0x37dde7(0x1e8)]['x']=Math['PI']/0x2,placementMarker[_0x37dde7(0x18d)]=![],scene[_0x37dde7(0x20d)](placementMarker);}function createPlayhead(){const _0x3e5849=_0x76bd73,_0x6a00c5=new _0x37a648[(_0x3e5849(0x169))](0.5,GRID_SIZE),_0x300bbd=new _0x37a648[(_0x3e5849(0x127))]({'color':0xff00ff,'side':_0x37a648['DoubleSide'],'transparent':!![],'opacity':0.75,'blending':_0x37a648[_0x3e5849(0x15c)]});playhead=new _0x37a648[(_0x3e5849(0x1f8))](_0x6a00c5,_0x300bbd),playhead[_0x3e5849(0x1e8)]['x']=-Math['PI']/0x2,playhead[_0x3e5849(0x14f)]['y']=-19.8,playhead[_0x3e5849(0x18d)]=![],scene['add'](playhead);}function setupEventListeners(){const _0x376c1e=_0x76bd73;window[_0x376c1e(0x211)](_0x376c1e(0x18e),onWindowResize),window[_0x376c1e(0x211)]('mousemove',onMouseMove),renderer[_0x376c1e(0x1ba)][_0x376c1e(0x211)](_0x376c1e(0x1aa),onSceneClick),activationButton[_0x376c1e(0x211)]('click',startExperience),genreSelect[_0x376c1e(0x211)]('change',_0x26bceb=>{const _0x56f8f5=_0x376c1e;_0x26bceb[_0x56f8f5(0x1fc)][_0x56f8f5(0x213)]!==_0x56f8f5(0x1e3)&&loadAudio(audioTracks[_0x26bceb[_0x56f8f5(0x1fc)][_0x56f8f5(0x213)]]);}),mp3UploadInput[_0x376c1e(0x211)](_0x376c1e(0x159),handleFileUpload),glowSlider['addEventListener'](_0x376c1e(0x182),_0xeee200=>{const _0x92da5f=_0x376c1e;if(bloomPass)bloomPass[_0x92da5f(0x1e0)]=_0xeee200['target'][_0x92da5f(0x213)];}),particleColorSlider[_0x376c1e(0x211)](_0x376c1e(0x182),_0x1e2132=>{const _0x513c40=_0x376c1e;if(particles)particles['material'][_0x513c40(0x174)][_0x513c40(0x1d9)](_0x1e2132['target']['value'],0x1,0.5);}),gridColorSlider[_0x376c1e(0x211)]('input',_0x1c943b=>{const _0x169958=_0x376c1e;if(gridHelper)gridHelper[_0x169958(0x12d)][_0x169958(0x174)][_0x169958(0x1d9)](_0x1c943b['target'][_0x169958(0x213)],0x1,0.5);}),dragonflyColorSlider[_0x376c1e(0x211)](_0x376c1e(0x182),_0x393c5f=>{const _0x38be12=_0x376c1e;if(dragonfly){const _0x379fb7=new _0x37a648[(_0x38be12(0x11b))]()[_0x38be12(0x1d9)](_0x393c5f[_0x38be12(0x1fc)]['value'],0x1,0.5);dragonfly[_0x38be12(0x1a9)][0x0][_0x38be12(0x12d)][_0x38be12(0x174)][_0x38be12(0x19f)](_0x379fb7),dragonfly[_0x38be12(0x1a9)][0x0][_0x38be12(0x12d)][_0x38be12(0x144)][_0x38be12(0x19f)](_0x379fb7);}}),fogSlider[_0x376c1e(0x211)](_0x376c1e(0x182),_0x291485=>{const _0x48574c=_0x376c1e;if(scene['fog'])scene[_0x48574c(0x1b9)][_0x48574c(0x1bc)]=parseFloat(_0x291485[_0x48574c(0x1fc)][_0x48574c(0x213)]);}),kickVolumeSlider[_0x376c1e(0x211)](_0x376c1e(0x182),_0x1053eb=>{const _0x4c3ff5=_0x376c1e;if(synths[_0x4c3ff5(0x15b)])synths[_0x4c3ff5(0x15b)][_0x4c3ff5(0x1f4)][_0x4c3ff5(0x213)]=parseFloat(_0x1053eb[_0x4c3ff5(0x1fc)][_0x4c3ff5(0x213)]);}),hatVolumeSlider[_0x376c1e(0x211)]('input',_0x2fd944=>{const _0x501e9a=_0x376c1e;if(synths[_0x501e9a(0x1ac)])synths['hatVolume'][_0x501e9a(0x1f4)][_0x501e9a(0x213)]=parseFloat(_0x2fd944['target'][_0x501e9a(0x213)]);}),noteVolumeSlider[_0x376c1e(0x211)]('input',_0x9ddcec=>{const _0x1e595f=_0x376c1e;if(synths[_0x1e595f(0x142)])synths['noteVolume'][_0x1e595f(0x1f4)][_0x1e595f(0x213)]=parseFloat(_0x9ddcec[_0x1e595f(0x1fc)][_0x1e595f(0x213)]);}),padVolumeSlider['addEventListener'](_0x376c1e(0x182),_0x2cca16=>{const _0x51c3e7=_0x376c1e;if(synths[_0x51c3e7(0x1ff)])synths[_0x51c3e7(0x1ff)][_0x51c3e7(0x1f4)][_0x51c3e7(0x213)]=parseFloat(_0x2cca16[_0x51c3e7(0x1fc)][_0x51c3e7(0x213)]);}),document['querySelectorAll'](_0x376c1e(0x1c7))[_0x376c1e(0x1cc)](_0x2f0351=>{const _0x20d325=_0x376c1e;_0x2f0351[_0x20d325(0x211)](_0x20d325(0x1aa),_0x76fe19=>{const _0x54c2dd=_0x20d325;setObjectToAdd(_0x76fe19['target'][_0x54c2dd(0x18a)][_0x54c2dd(0x197)]);});}),sequencerToggleButton[_0x376c1e(0x211)](_0x376c1e(0x1aa),()=>{const _0xcd22d9=_0x376c1e;Tone[_0xcd22d9(0x17a)][_0xcd22d9(0x165)]===_0xcd22d9(0x128)?(Tone[_0xcd22d9(0x17a)]['pause'](),playhead['visible']=![],sequencerToggleButton[_0xcd22d9(0x141)]=_0xcd22d9(0x1c2)):(Tone[_0xcd22d9(0x17a)][_0xcd22d9(0x1f7)](),sequence[_0xcd22d9(0x1f7)](0x0),playhead[_0xcd22d9(0x18d)]=!![],sequencerToggleButton[_0xcd22d9(0x141)]=_0xcd22d9(0x1fe));}),clearSceneButton[_0x376c1e(0x211)]('click',()=>{const _0x1ba0c9=_0x376c1e;while(spawnedObjects['children'][_0x1ba0c9(0x136)]>0x0){const _0x5c293a=spawnedObjects[_0x1ba0c9(0x1a9)][0x0];spawnedObjects['remove'](_0x5c293a);if(_0x5c293a[_0x1ba0c9(0x196)])_0x5c293a[_0x1ba0c9(0x196)][_0x1ba0c9(0x168)]();if(_0x5c293a[_0x1ba0c9(0x12d)])_0x5c293a[_0x1ba0c9(0x12d)][_0x1ba0c9(0x168)]();}while(vibePinGroup[_0x1ba0c9(0x1a9)]['length']>0x0){const _0x443f3b=vibePinGroup[_0x1ba0c9(0x1a9)][0x0];vibePinGroup[_0x1ba0c9(0x206)](_0x443f3b);}vibePins=[],renderPinList(),isVibePinned=![],Tone[_0x1ba0c9(0x17a)]['state']===_0x1ba0c9(0x198)&&(Tone[_0x1ba0c9(0x17a)][_0x1ba0c9(0x1f7)](),playhead[_0x1ba0c9(0x18d)]=!![],sequencerToggleButton[_0x1ba0c9(0x141)]=_0x1ba0c9(0x1fe));}),pinList[_0x376c1e(0x211)](_0x376c1e(0x1aa),_0x38f36d=>{const _0x1e2fdb=_0x376c1e,_0x5f007f=_0x38f36d['target'];if(_0x5f007f[_0x1e2fdb(0x1ab)][_0x1e2fdb(0x188)](_0x1e2fdb(0x163)))goToPin(parseInt(_0x5f007f['dataset']['id']));else _0x5f007f[_0x1e2fdb(0x1ab)]['contains'](_0x1e2fdb(0x12b))&&removePin(parseInt(_0x5f007f[_0x1e2fdb(0x18a)]['id']));}),shareButton[_0x376c1e(0x211)](_0x376c1e(0x1aa),takeScreenshot),closeModalButton[_0x376c1e(0x211)]('click',()=>{const _0x102724=_0x376c1e;shareModal[_0x102724(0x1a8)][_0x102724(0x11f)]=_0x102724(0x179);}),copyLinkButton[_0x376c1e(0x211)](_0x376c1e(0x1aa),()=>copyToClipboard(_0x376c1e(0x14e))),hint1Ok['addEventListener']('click',()=>{const _0x1f5f79=_0x376c1e;hint1[_0x1f5f79(0x1ab)]['remove']('visible'),setTimeout(()=>hint2[_0x1f5f79(0x1ab)]['add']('visible'),0x1f4);}),hint2Ok['addEventListener'](_0x376c1e(0x1aa),()=>{const _0xba5a75=_0x376c1e;hint2[_0xba5a75(0x1ab)][_0xba5a75(0x206)](_0xba5a75(0x18d)),setTimeout(()=>hint3[_0xba5a75(0x1ab)]['add']('visible'),0x1f4);}),hint3Ok[_0x376c1e(0x211)](_0x376c1e(0x1aa),()=>{const _0x189b04=_0x376c1e;hint3[_0x189b04(0x1ab)][_0x189b04(0x206)](_0x189b04(0x18d));});}function handleFileUpload(_0x5d800c){const _0x25767c=_0x76bd73,_0x10ac62=_0x5d800c['target'][_0x25767c(0x160)][0x0];if(_0x10ac62&&_0x10ac62[_0x25767c(0x197)]===_0x25767c(0x209)){const _0xf7e16f=new FileReader();_0xf7e16f[_0x25767c(0x1d5)]=_0x4a4eb4=>{const _0x4f2a50=_0x25767c,_0x569937=_0x4a4eb4[_0x4f2a50(0x1fc)][_0x4f2a50(0x1ae)];loadAudio(_0x569937,!![]);},_0xf7e16f[_0x25767c(0x124)](_0x10ac62);}}function setObjectToAdd(_0x19b6e0){const _0x2418bb=_0x76bd73;currentObjectToAdd=_0x19b6e0===currentObjectToAdd?null:_0x19b6e0,document[_0x2418bb(0x12f)](_0x2418bb(0x1c7))[_0x2418bb(0x1cc)](_0x5b15d5=>{const _0x4d13b5=_0x2418bb;_0x5b15d5[_0x4d13b5(0x1ab)]['toggle']('active',_0x5b15d5[_0x4d13b5(0x18a)][_0x4d13b5(0x197)]===currentObjectToAdd);}),placementMarker[_0x2418bb(0x18d)]=!!currentObjectToAdd,container['style'][_0x2418bb(0x153)]=currentObjectToAdd?_0x2418bb(0x1f9):_0x2418bb(0x179);}function onSceneClick(_0x4bd343){const _0x438603=_0x76bd73;if(!isExperienceActive)return;if(_0x4bd343[_0x438603(0x1fc)][_0x438603(0x20f)]('#controls-panel,\x20#share-container,\x20.hint-popup,\x20#share-modal'))return;raycaster['setFromCamera'](mouse,camera);const _0x3cdfbf=raycaster[_0x438603(0x212)](vibePinGroup['children'],!![]);if(_0x3cdfbf[_0x438603(0x136)]>0x0){const _0x67073a=_0x3cdfbf[0x0][_0x438603(0x20e)]['parent'];_0x67073a[_0x438603(0x15f)][_0x438603(0x203)]?(isVibePinned=![],_0x67073a['userData']['isActive']=![],Tone[_0x438603(0x17a)][_0x438603(0x165)]==='paused'&&(Tone[_0x438603(0x17a)][_0x438603(0x1f7)](),sequencerToggleButton['textContent']=_0x438603(0x1fe))):goToPin(_0x67073a[_0x438603(0x15f)]['id']);}else{if(currentObjectToAdd){const _0x580ca8=raycaster['intersectObject'](groundPlane);_0x580ca8[_0x438603(0x136)]>0x0&&spawnObject(_0x580ca8[0x0][_0x438603(0x180)]);}else{isVibePinned=!![],vibePinGroup[_0x438603(0x1a9)][_0x438603(0x1cc)](_0x40c9d0=>_0x40c9d0[_0x438603(0x15f)]['isActive']=![]);const _0x5b1d15={'id':Date['now'](),'rate':audio[_0x438603(0x137)](),'freq':targetFrequency};vibePins[_0x438603(0x1a0)](_0x5b1d15),createVibePin(_0x5b1d15),renderPinList(),Tone[_0x438603(0x17a)][_0x438603(0x165)]===_0x438603(0x128)&&(Tone[_0x438603(0x17a)][_0x438603(0x161)](),sequencerToggleButton['textContent']=_0x438603(0x1c2));}}}function createTextSprite(_0x56d526){const _0x5c08b7=_0x76bd73,_0x3436e8=document[_0x5c08b7(0x17e)](_0x5c08b7(0x1be)),_0x67226c=_0x3436e8[_0x5c08b7(0x1c8)]('2d');_0x67226c[_0x5c08b7(0x16c)]=_0x5c08b7(0x1bb),_0x67226c['fillStyle']='rgba(255,\x20255,\x20255,\x201.0)',_0x67226c[_0x5c08b7(0x185)](_0x56d526,0x0,0x28);const _0x44cffe=new _0x37a648['CanvasTexture'](_0x3436e8),_0x3adfb8=new _0x37a648['SpriteMaterial']({'map':_0x44cffe}),_0x206a04=new _0x37a648[(_0x5c08b7(0x201))](_0x3adfb8);return _0x206a04[_0x5c08b7(0x126)][_0x5c08b7(0x1da)](0x5,2.5,0x1),_0x206a04;}function createVibePin(_0x26c8b0){const _0x4c3499=_0x76bd73,_0x407a6d=new _0x37a648[(_0x4c3499(0x1c6))](),_0xcdbcf1=new _0x37a648[(_0x4c3499(0x19b))](0.5,0x0,0x2,0x8),_0x14cd9d=new _0x37a648['MeshBasicMaterial']({'color':0xff00ff}),_0x45ad12=new _0x37a648[(_0x4c3499(0x1f8))](_0xcdbcf1,_0x14cd9d);_0x45ad12[_0x4c3499(0x1e8)]['z']=Math['PI'];const _0x5b94ed=createTextSprite(_0x4c3499(0x1ec)+vibePins[_0x4c3499(0x136)]);_0x5b94ed['position']['y']=0x2,_0x407a6d[_0x4c3499(0x20d)](_0x45ad12),_0x407a6d[_0x4c3499(0x20d)](_0x5b94ed);const _0x539ca8=new _0x37a648['Vector3'](mouse['x'],mouse['y'],0.5);_0x539ca8['unproject'](camera);const _0x659e6=_0x539ca8[_0x4c3499(0x1fb)](camera[_0x4c3499(0x14f)])['normalize'](),_0x3f99bd=-camera[_0x4c3499(0x14f)]['z']/_0x659e6['z'],_0x386f5f=camera[_0x4c3499(0x14f)][_0x4c3499(0x1a3)]()[_0x4c3499(0x20d)](_0x659e6[_0x4c3499(0x19e)](_0x3f99bd));_0x407a6d[_0x4c3499(0x14f)][_0x4c3499(0x19f)](_0x386f5f),_0x407a6d['userData']={..._0x26c8b0,'isActive':!![]},vibePinGroup[_0x4c3499(0x20d)](_0x407a6d);}function spawnObject(_0x1a730b){const _0x5037f5=_0x76bd73;let _0x434c0;const _0xd2fb98=-0x12;switch(currentObjectToAdd){case'cube':_0x434c0=new _0x37a648['BoxGeometry'](0x4,0x4,0x4);break;case'sphere':_0x434c0=new _0x37a648[(_0x5037f5(0x1b0))](0x2,0x20,0x20);break;case _0x5037f5(0x1ef):_0x434c0=new _0x37a648['TorusGeometry'](0x2,0.8,0x10,0x64);break;case _0x5037f5(0x131):_0x434c0=new _0x37a648[(_0x5037f5(0x15a))](0x3,0x5,0x4);break;}const _0x200b01=new _0x37a648[(_0x5037f5(0x208))]({'color':0xffffff,'emissive':0xffffff,'emissiveIntensity':0x1,'metalness':0.8,'roughness':0.2});_0x200b01[_0x5037f5(0x174)][_0x5037f5(0x1d9)](Math[_0x5037f5(0x1de)](),0x1,0.5),_0x200b01['emissive']['copy'](_0x200b01[_0x5037f5(0x174)]);const _0x31b9be=new _0x37a648[(_0x5037f5(0x1f8))](_0x434c0,_0x200b01);_0x31b9be[_0x5037f5(0x14f)][_0x5037f5(0x19f)](_0x1a730b),_0x31b9be[_0x5037f5(0x14f)]['y']=_0xd2fb98+(_0x434c0['parameters'][_0x5037f5(0x1b4)]||0x4)/0x2,_0x31b9be['userData']['type']=currentObjectToAdd,spawnedObjects[_0x5037f5(0x20d)](_0x31b9be);}function onWindowResize(){const _0x689dfc=_0x76bd73;camera['aspect']=window['innerWidth']/window[_0x689dfc(0x1d3)],camera['updateProjectionMatrix'](),renderer[_0x689dfc(0x16f)](window[_0x689dfc(0x183)],window[_0x689dfc(0x1d3)]),composer[_0x689dfc(0x16f)](window[_0x689dfc(0x183)],window[_0x689dfc(0x1d3)]);}function onMouseMove(_0x3c8905){const _0x92e30e=_0x76bd73;mouse['x']=_0x3c8905['clientX']/window[_0x92e30e(0x183)]*0x2-0x1,mouse['y']=-(_0x3c8905[_0x92e30e(0x143)]/window[_0x92e30e(0x1d3)])*0x2+0x1,isExperienceActive&&(cursorLight['style']['left']=_0x3c8905[_0x92e30e(0x1a7)]+'px',cursorLight[_0x92e30e(0x1a8)][_0x92e30e(0x150)]=_0x3c8905[_0x92e30e(0x143)]+'px',!isVibePinned&&updateAudioFromMouse());}function updateAudioFromMouse(){const _0x5351f0=_0x76bd73;if(filter){const _0x248b1b=0xc8,_0x2781e9=audio['context'][_0x5351f0(0x1a4)]/0x2;targetFrequency=_0x248b1b*Math[_0x5351f0(0x1ea)](_0x2781e9/_0x248b1b,(mouse['y']+0x1)/0x2);}if(audio){const _0x4a2784=0.75,_0xd992ac=1.25,_0x4801f5=_0x4a2784+(mouse['x']+0x1)/0x2*(_0xd992ac-_0x4a2784);audio[_0x5351f0(0x16d)](_0x4801f5);}}function goToPin(_0x52025a){const _0x2eb552=_0x76bd73,_0x4abde4=vibePins[_0x2eb552(0x1cd)](_0x10ad97=>_0x10ad97['id']===_0x52025a);_0x4abde4&&(isVibePinned=!![],vibePinGroup[_0x2eb552(0x1a9)]['forEach'](_0x4f91b7=>{const _0x78f7a4=_0x2eb552;_0x4f91b7[_0x78f7a4(0x15f)][_0x78f7a4(0x203)]=_0x4f91b7[_0x78f7a4(0x15f)]['id']===_0x52025a;}),targetFrequency=_0x4abde4['freq'],audio['setPlaybackRate'](_0x4abde4[_0x2eb552(0x1fa)]),filter&&(filter[_0x2eb552(0x129)]['cancelScheduledValues'](audio['context']['currentTime']),filter[_0x2eb552(0x129)][_0x2eb552(0x1b2)](_0x4abde4[_0x2eb552(0x148)],audio[_0x2eb552(0x1a5)]['currentTime']+0.1)),Tone[_0x2eb552(0x17a)][_0x2eb552(0x165)]===_0x2eb552(0x128)&&(Tone[_0x2eb552(0x17a)][_0x2eb552(0x161)](),sequencerToggleButton[_0x2eb552(0x141)]=_0x2eb552(0x1c2)));}function removePin(_0x3c08a9){const _0x3a19d6=_0x76bd73;vibePins=vibePins[_0x3a19d6(0x171)](_0x57390d=>_0x57390d['id']!==_0x3c08a9);const _0x46ab8b=vibePinGroup[_0x3a19d6(0x1a9)]['find'](_0x4a2d1a=>_0x4a2d1a[_0x3a19d6(0x15f)]['id']===_0x3c08a9);_0x46ab8b&&vibePinGroup[_0x3a19d6(0x206)](_0x46ab8b),renderPinList(),isVibePinned=![],Tone['Transport'][_0x3a19d6(0x165)]===_0x3a19d6(0x198)&&(Tone[_0x3a19d6(0x17a)][_0x3a19d6(0x1f7)](),sequencerToggleButton[_0x3a19d6(0x141)]=_0x3a19d6(0x1fe));}function renderPinList(){const _0x4b61b9=_0x76bd73;pinList[_0x4b61b9(0x178)]='',vibePins[_0x4b61b9(0x1cc)]((_0x2e3623,_0x5135eb)=>{const _0x1a8735=_0x4b61b9,_0x49ce22=document['createElement']('li');_0x49ce22[_0x1a8735(0x141)]=_0x1a8735(0x1ec)+(_0x5135eb+0x1);const _0x11c836=document['createElement']('button');_0x11c836[_0x1a8735(0x141)]=_0x1a8735(0x1f3),_0x11c836[_0x1a8735(0x1b6)]='goto-btn',_0x11c836['dataset']['id']=_0x2e3623['id'];const _0x5b86f8=document[_0x1a8735(0x17e)](_0x1a8735(0x13a));_0x5b86f8['textContent']=_0x1a8735(0x214),_0x5b86f8[_0x1a8735(0x1b6)]='remove-btn',_0x5b86f8[_0x1a8735(0x18a)]['id']=_0x2e3623['id'],_0x49ce22['appendChild'](_0x11c836),_0x49ce22['appendChild'](_0x5b86f8),pinList[_0x1a8735(0x13d)](_0x49ce22);});}function startExperience(){const _0x5ce7dd=_0x76bd73;if(isExperienceActive)return;const _0x537896=()=>{const _0x68fd2d=_0x1601;isExperienceActive=!![],activationOverlay[_0x68fd2d(0x1a8)][_0x68fd2d(0x13b)]='0',activationOverlay[_0x68fd2d(0x1a8)][_0x68fd2d(0x1a2)]=_0x68fd2d(0x179),cursorLight[_0x68fd2d(0x1a8)][_0x68fd2d(0x13b)]='1',controlsPanel['style'][_0x68fd2d(0x13b)]='1',shareContainer['style'][_0x68fd2d(0x13b)]='1',versionDisplay[_0x68fd2d(0x1a8)][_0x68fd2d(0x13b)]='1',loadAudio(audioTracks[genreSelect[_0x68fd2d(0x213)]]),setTimeout(()=>hint1['classList']['add'](_0x68fd2d(0x18d)),0x3e8);};Tone['start']()['then'](()=>{const _0x354f83=_0x1601,_0x3cf8d1=audio[_0x354f83(0x1a5)];_0x3cf8d1['state']==='suspended'?_0x3cf8d1[_0x354f83(0x1f1)]()['then'](_0x537896)['catch'](_0xb9250c=>console[_0x354f83(0x1e6)]('Error\x20resuming\x20Three.js\x20AudioContext:',_0xb9250c)):_0x537896();})[_0x5ce7dd(0x19c)](_0x353bb6=>console[_0x5ce7dd(0x1e6)](_0x5ce7dd(0x20b),_0x353bb6));}function displayShareModal(_0x3e0df8){const _0x48d16c=_0x76bd73;shareImage[_0x48d16c(0x200)]=_0x3e0df8,downloadLink[_0x48d16c(0x189)]=_0x3e0df8,shareModal[_0x48d16c(0x1a8)][_0x48d16c(0x11f)]='flex';}function copyToClipboard(_0x9b43db){const _0x4ffc23=_0x76bd73,_0x344c42=document[_0x4ffc23(0x17e)]('textarea');_0x344c42[_0x4ffc23(0x213)]=_0x9b43db,document['body'][_0x4ffc23(0x13d)](_0x344c42),_0x344c42[_0x4ffc23(0x1c1)]();try{document[_0x4ffc23(0x194)](_0x4ffc23(0x19f));const _0x5e2606=copyLinkButton[_0x4ffc23(0x141)];copyLinkButton[_0x4ffc23(0x141)]=_0x4ffc23(0x177),setTimeout(()=>{const _0x43aeb3=_0x4ffc23;copyLinkButton[_0x43aeb3(0x141)]=_0x5e2606;},0x7d0);}catch(_0x58b899){console[_0x4ffc23(0x1e6)](_0x4ffc23(0x1b5),_0x58b899);}document[_0x4ffc23(0x18f)][_0x4ffc23(0x14d)](_0x344c42);}async function takeScreenshot(){const _0xc886da=_0x76bd73;composer[_0xc886da(0x175)]();const _0x369722=renderer[_0xc886da(0x1ba)]['toDataURL'](_0xc886da(0x13e)),_0x541083=_0xc886da(0x14e);try{const _0x31c847=await(await fetch(_0x369722))[_0xc886da(0x1db)](),_0xf1e6d4=new File([_0x31c847],_0xc886da(0x195),{'type':_0x31c847[_0xc886da(0x197)]});navigator[_0xc886da(0x11c)]&&navigator[_0xc886da(0x1eb)]({'files':[_0xf1e6d4]})?await navigator['share']({'files':[_0xf1e6d4],'title':'Wire\x20Bae\x20Vibe','text':_0xc886da(0x1bd),'url':_0x541083}):displayShareModal(_0x369722);}catch(_0x150208){console[_0xc886da(0x1e6)](_0xc886da(0x164),_0x150208),displayShareModal(_0x369722);}}function animate(){const _0x51aa33=_0x76bd73;requestAnimationFrame(animate);const _0x26db90=clock['getDelta'](),_0x18c52a=clock[_0x51aa33(0x1e2)]();let _0xab1696=0x0,_0x78d217=0x0,_0x1174cc=0x0;if(isExperienceActive){if(analyser){const _0x3aa02b=analyser[_0x51aa33(0x1c5)]();_0xab1696=_0x3aa02b[0x2]/0xff,_0x78d217=_0x3aa02b[0x1e]/0xff,_0x1174cc=_0x3aa02b[0x3c]/0xff;}filter&&!isVibePinned&&filter['frequency'][_0x51aa33(0x16b)](targetFrequency,audio[_0x51aa33(0x1a5)][_0x51aa33(0x184)],0.05);_0xab1696>0.9&&!glitchPass[_0x51aa33(0x1c3)]&&(glitchPass[_0x51aa33(0x1c3)]=!![],setTimeout(()=>{const _0x52fd51=_0x51aa33;glitchPass[_0x52fd51(0x1c3)]=![];},0x64));if(placementMarker['visible']){raycaster[_0x51aa33(0x207)](mouse,camera);const _0x4a96ce=raycaster[_0x51aa33(0x1cb)](groundPlane);_0x4a96ce['length']>0x0&&(placementMarker['position'][_0x51aa33(0x19f)](_0x4a96ce[0x0][_0x51aa33(0x180)]),placementMarker[_0x51aa33(0x14f)]['y']=-19.9);}}if(dragonfly){dragonfly['position'][_0x51aa33(0x1da)](Math[_0x51aa33(0x13c)](_0x18c52a*0.3)*0xa,Math['cos'](_0x18c52a*0.5)*0x5,Math[_0x51aa33(0x1a6)](_0x18c52a*0.2)*0xa);const _0x2d0ec6=new _0x37a648['Vector3'](Math[_0x51aa33(0x13c)]((_0x18c52a+0.1)*0.3)*0xa,Math[_0x51aa33(0x1a6)]((_0x18c52a+0.1)*0.5)*0x5,Math['cos']((_0x18c52a+0.1)*0.2)*0xa);dragonfly[_0x51aa33(0x181)](_0x2d0ec6);const _0x3ac32c=dragonfly[_0x51aa33(0x1a9)][0x2];if(_0x3ac32c){const _0x4f296e=0x2+_0xab1696*0xa;_0x3ac32c['children'][0x0][_0x51aa33(0x1e8)]['z']=Math['sin'](_0x18c52a*_0x4f296e)*0.5,_0x3ac32c[_0x51aa33(0x1a9)][0x1][_0x51aa33(0x1e8)]['z']=-Math[_0x51aa33(0x13c)](_0x18c52a*_0x4f296e)*0.5;}dragonfly['children'][0x1][_0x51aa33(0x12d)][_0x51aa33(0x170)]=0x2+_0xab1696*0x5;}particles&&(particles['rotation']['y']+=_0x26db90*0.05,particles[_0x51aa33(0x12d)][_0x51aa33(0x132)]=0.1+_0xab1696*0.2,particles[_0x51aa33(0x12d)]['opacity']=0.6+_0x1174cc*0.4),pyramids&&pyramids[_0x51aa33(0x1a9)][_0x51aa33(0x1cc)]((_0x1ab4ff,_0x2c5544)=>{const _0x9d6064=_0x51aa33;_0x1ab4ff[_0x9d6064(0x14f)]['y']=-0x12+Math[_0x9d6064(0x13c)](_0x18c52a*0x2+_0x2c5544)*0x2,_0x1ab4ff[_0x9d6064(0x12d)]['emissiveIntensity']=_0xab1696*0x2;}),spawnedObjects&&spawnedObjects['children'][_0x51aa33(0x1cc)]((_0x57fbd3,_0x5418cf)=>{const _0x3899c8=_0x51aa33;_0x57fbd3[_0x3899c8(0x1e8)]['y']+=_0x26db90*0.2*(_0x5418cf%0x2===0x0?0x1:-0x1);if(!_0x57fbd3[_0x3899c8(0x15f)][_0x3899c8(0x1cf)])_0x57fbd3['material'][_0x3899c8(0x170)]=0.5+_0xab1696*1.5;}),vibePinGroup[_0x51aa33(0x1a9)]['forEach'](_0x134772=>{const _0x3c8628=_0x51aa33;_0x134772[_0x3c8628(0x1a9)][0x0][_0x3c8628(0x12d)][_0x3c8628(0x174)][_0x3c8628(0x1da)](_0x134772[_0x3c8628(0x15f)][_0x3c8628(0x203)]?0xffff:0xff00ff),_0x134772['lookAt'](camera['position']);}),composer[_0x51aa33(0x175)](_0x26db90);}init();