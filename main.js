const _0x351664=_0x34e8;(function(_0x138ad0,_0x497b63){const _0x2428f0=_0x34e8,_0x44a0a6=_0x138ad0();while(!![]){try{const _0x32d827=-parseInt(_0x2428f0(0x19c))/0x1+parseInt(_0x2428f0(0x183))/0x2+parseInt(_0x2428f0(0x131))/0x3*(parseInt(_0x2428f0(0x10d))/0x4)+parseInt(_0x2428f0(0x163))/0x5*(parseInt(_0x2428f0(0x117))/0x6)+parseInt(_0x2428f0(0x1cd))/0x7*(-parseInt(_0x2428f0(0x11d))/0x8)+parseInt(_0x2428f0(0x121))/0x9*(-parseInt(_0x2428f0(0x1a4))/0xa)+parseInt(_0x2428f0(0x175))/0xb*(parseInt(_0x2428f0(0xd5))/0xc);if(_0x32d827===_0x497b63)break;else _0x44a0a6['push'](_0x44a0a6['shift']());}catch(_0x1ec350){_0x44a0a6['push'](_0x44a0a6['shift']());}}}(_0x225a,0x6cff2));import*as _0x39e7c1 from'three';import{EffectComposer}from'three/addons/postprocessing/EffectComposer.js';import{RenderPass}from'three/addons/postprocessing/RenderPass.js';import{UnrealBloomPass}from'three/addons/postprocessing/UnrealBloomPass.js';import{GlitchPass}from'three/addons/postprocessing/GlitchPass.js';let scene,camera,renderer,composer,clock,bloomPass,glitchPass,dragonfly,particles,audio,analyser,filter,targetFrequency,gridHelper,pyramids,stars,spawnedObjects,vibePinGroup,raycaster,groundPlane,placementMarker,playhead,currentObjectToAdd=null;const mouse=new _0x39e7c1['Vector2']();let isExperienceActive=![],synths={},sequence;const GRID_SIZE=0xc8,STEPS=0x10;let isVibePinned=![],vibePins=[];const container=document[_0x351664(0xfe)](_0x351664(0x109)),activationOverlay=document[_0x351664(0xfe)](_0x351664(0x169)),activationButton=document[_0x351664(0xfe)](_0x351664(0xd9)),cursorLight=document[_0x351664(0xfe)](_0x351664(0xdb)),aiText=document['getElementById']('ai-text'),controlsPanel=document['getElementById']('controls-panel'),shareContainer=document['getElementById'](_0x351664(0x1a3)),versionDisplay=document[_0x351664(0xfe)](_0x351664(0x152)),genreSelect=document[_0x351664(0xfe)](_0x351664(0xdf)),glowSlider=document[_0x351664(0xfe)]('glow-slider'),particleColorSlider=document[_0x351664(0xfe)](_0x351664(0x16f)),gridColorSlider=document['getElementById'](_0x351664(0x178)),dragonflyColorSlider=document[_0x351664(0xfe)](_0x351664(0x1b1)),fogSlider=document[_0x351664(0xfe)](_0x351664(0x10a)),mp3UploadInput=document[_0x351664(0xfe)](_0x351664(0x190)),clearSceneButton=document[_0x351664(0xfe)]('clear-scene-button'),sequencerToggleButton=document['getElementById'](_0x351664(0x11e)),pinList=document[_0x351664(0xfe)](_0x351664(0x126)),kickVolumeSlider=document['getElementById'](_0x351664(0x149)),hatVolumeSlider=document[_0x351664(0xfe)](_0x351664(0x17b)),noteVolumeSlider=document['getElementById']('note-volume-slider'),padVolumeSlider=document[_0x351664(0xfe)]('pad-volume-slider'),shareButton=document[_0x351664(0xfe)]('share-button'),shareModal=document[_0x351664(0xfe)](_0x351664(0xff)),shareImage=document['getElementById'](_0x351664(0xfb)),downloadLink=document[_0x351664(0xfe)](_0x351664(0x1ba)),closeModalButton=document['getElementById'](_0x351664(0x127)),copyLinkButton=document[_0x351664(0xfe)](_0x351664(0x1ca)),hint1=document['getElementById'](_0x351664(0x12c)),hint1Ok=document[_0x351664(0xfe)](_0x351664(0x1b2)),hint2=document[_0x351664(0xfe)]('hint2'),hint2Ok=document[_0x351664(0xfe)](_0x351664(0xf2)),hint3=document['getElementById'](_0x351664(0x185)),hint3Ok=document[_0x351664(0xfe)](_0x351664(0x14e)),audioTracks={'cyber-funk':'https://pdragonlabs.github.io/WireBaePDragonLabs/cyber-funk.mp3','trap':'https://pdragonlabs.github.io/WireBaePDragonLabs/trap.mp3','lo-fi':_0x351664(0xe2),'old-school':_0x351664(0x146)};function init(){const _0x27f29d=_0x351664;scene=new _0x39e7c1[(_0x27f29d(0x19b))](),scene[_0x27f29d(0xef)]=new _0x39e7c1[(_0x27f29d(0x194))](0xa0014,0.005),clock=new _0x39e7c1[(_0x27f29d(0x1c8))](),camera=new _0x39e7c1[(_0x27f29d(0x1a5))](0x4b,window[_0x27f29d(0xf4)]/window['innerHeight'],0.1,0x3e8),camera[_0x27f29d(0x1c9)][_0x27f29d(0x1ac)](0x0,0x5,0x23),renderer=new _0x39e7c1[(_0x27f29d(0x159))]({'antialias':!![],'preserveDrawingBuffer':!![]}),renderer[_0x27f29d(0x18a)](window['devicePixelRatio']),renderer[_0x27f29d(0x1cb)](window['innerWidth'],window[_0x27f29d(0xde)]),renderer[_0x27f29d(0x16a)](0xa0014,0x1),container[_0x27f29d(0x18e)](renderer['domElement']),raycaster=new _0x39e7c1[(_0x27f29d(0xfd))](),spawnedObjects=new _0x39e7c1[(_0x27f29d(0x123))](),vibePinGroup=new _0x39e7c1[(_0x27f29d(0x123))](),scene[_0x27f29d(0x165)](spawnedObjects,vibePinGroup),setupPostProcessing(),setupAudio(),setupSynths(),setupSequencer(),createDragonfly(),createParticles(),createEnvironment(),createStars(),createPyramids(),createPlacementMarker(),createPlayhead(),setupEventListeners(),animate();}function setupPostProcessing(){const _0x2dc0cd=_0x351664,_0x178cca=new RenderPass(scene,camera);bloomPass=new UnrealBloomPass(new _0x39e7c1[(_0x2dc0cd(0xf0))](window[_0x2dc0cd(0xf4)],window[_0x2dc0cd(0xde)]),1.5,0.4,0.85),glitchPass=new GlitchPass(),glitchPass[_0x2dc0cd(0x173)]=![],composer=new EffectComposer(renderer),composer[_0x2dc0cd(0x136)](_0x178cca),composer['addPass'](bloomPass),composer[_0x2dc0cd(0x136)](glitchPass);}function setupAudio(){const _0x371242=_0x351664,_0x11b24b=new _0x39e7c1[(_0x371242(0x1b0))]();camera[_0x371242(0x165)](_0x11b24b),audio=new _0x39e7c1[(_0x371242(0x147))](_0x11b24b),analyser=new _0x39e7c1[(_0x371242(0x1b9))](audio,0x80),filter=audio['context']['createBiquadFilter'](),filter[_0x371242(0x19f)]=_0x371242(0x13d),targetFrequency=audio[_0x371242(0xe1)][_0x371242(0xee)]/0x2,filter[_0x371242(0x13a)][_0x371242(0x12f)]=targetFrequency,filter['Q'][_0x371242(0x12f)]=0x1,audio[_0x371242(0x1c7)](filter);}function _0x34e8(_0x3bad37,_0x1acefd){const _0x225a7e=_0x225a();return _0x34e8=function(_0x34e8f5,_0x10eb5a){_0x34e8f5=_0x34e8f5-0xcc;let _0x1001e0=_0x225a7e[_0x34e8f5];return _0x1001e0;},_0x34e8(_0x3bad37,_0x1acefd);}function setupSynths(){const _0x369ecc=_0x351664,_0x51c1fc=new Tone[(_0x369ecc(0x189))](0x2)[_0x369ecc(0x148)]();synths['kickVolume']=new Tone[(_0x369ecc(0x12b))](0x0)[_0x369ecc(0x148)](),synths['hatVolume']=new Tone[(_0x369ecc(0x12b))](0x0)[_0x369ecc(0x148)](),synths['noteVolume']=new Tone[(_0x369ecc(0x12b))](0x0)[_0x369ecc(0x17f)](_0x51c1fc),synths['padVolume']=new Tone['Volume'](0x0)[_0x369ecc(0x17f)](_0x51c1fc),synths[_0x369ecc(0x1d2)]=new Tone[(_0x369ecc(0x12e))]({'pitchDecay':0.05,'octaves':0xa,'oscillator':{'type':_0x369ecc(0x1cc)},'envelope':{'attack':0.001,'decay':0.4,'sustain':0.01,'release':1.4,'attackCurve':_0x369ecc(0x180)}})[_0x369ecc(0x17f)](synths[_0x369ecc(0x124)]),synths['hat']=new Tone[(_0x369ecc(0xdd))]({'frequency':0xc8,'envelope':{'attack':0.001,'decay':0.1,'release':0.01},'harmonicity':5.1,'modulationIndex':0x20,'resonance':0xfa0,'octaves':1.5})[_0x369ecc(0x17f)](synths['hatVolume']),synths[_0x369ecc(0x17d)]=new Tone[(_0x369ecc(0x12d))]({'harmonicity':0x3,'modulationIndex':0xa,'detune':0x0,'oscillator':{'type':_0x369ecc(0x1cc)},'envelope':{'attack':0.01,'decay':0.1,'sustain':0.5,'release':0x1},'modulation':{'type':'square'},'modulationEnvelope':{'attack':0.5,'decay':0x0,'sustain':0x1,'release':0.5}})[_0x369ecc(0x17f)](synths[_0x369ecc(0x13b)]),synths[_0x369ecc(0x105)]=new Tone[(_0x369ecc(0x108))](Tone['AMSynth'],{'harmonicity':1.5,'detune':0x0,'oscillator':{'type':_0x369ecc(0xe6)},'envelope':{'attack':0.1,'decay':0.2,'sustain':0.5,'release':1.2},'modulation':{'type':_0x369ecc(0x1cc)},'modulationEnvelope':{'attack':0.5,'decay':0x0,'sustain':0x1,'release':0.5}})[_0x369ecc(0x17f)](synths[_0x369ecc(0x198)]);}function setupSequencer(){const _0xb80cea=_0x351664,_0x133a41=Array[_0xb80cea(0x1bf)]({'length':STEPS},(_0x84e58b,_0x116fb8)=>_0x116fb8);sequence=new Tone[(_0xb80cea(0xda))]((_0x256433,_0xedaacc)=>{const _0x50ea89=_0xb80cea;Tone[_0x50ea89(0x1b3)][_0x50ea89(0xdc)](()=>{const _0x49ef34=_0x50ea89;playhead[_0x49ef34(0x1c9)]['x']=-GRID_SIZE/0x2+_0xedaacc/(STEPS-0x1)*GRID_SIZE;},_0x256433),spawnedObjects[_0x50ea89(0x114)][_0x50ea89(0x16b)](_0x10e3ab=>{const _0x327078=_0x50ea89,_0x53116d=Math[_0x327078(0x162)]((_0x10e3ab[_0x327078(0x1c9)]['x']+GRID_SIZE/0x2)/GRID_SIZE*STEPS);_0x53116d===_0xedaacc&&(triggerSound(_0x10e3ab,_0x256433),Tone['Draw']['schedule'](()=>flashObject(_0x10e3ab),_0x256433));});},_0x133a41,'16n'),Tone['Transport']['bpm'][_0xb80cea(0x12f)]=0x78;}function triggerSound(_0x45fafd,_0x4865e5){const _0x16583f=_0x351664,_0x169152=0x1-(_0x45fafd[_0x16583f(0x1c9)]['z']+GRID_SIZE/0x2)/GRID_SIZE;switch(_0x45fafd[_0x16583f(0x160)]['type']){case _0x16583f(0xd8):synths[_0x16583f(0x1d2)]['triggerAttackRelease']('C1','8n',_0x4865e5);break;case _0x16583f(0xcd):synths['hat'][_0x16583f(0x1c1)]('C4','16n',_0x4865e5);break;case _0x16583f(0x14b):synths[_0x16583f(0x17d)]['triggerAttackRelease'](0xc8+_0x169152*0x320,'8n',_0x4865e5);break;case _0x16583f(0x168):synths[_0x16583f(0x105)][_0x16583f(0x1c1)](['C2','E2','G2'],'4n',_0x4865e5);break;}}function flashObject(_0x39b8ac){const _0x2696b5=_0x351664;_0x39b8ac['userData'][_0x2696b5(0x128)]=!![],_0x39b8ac[_0x2696b5(0x122)]['emissiveIntensity']=0x5,setTimeout(()=>{const _0xf94f11=_0x2696b5;_0x39b8ac['material']['emissiveIntensity']=0x1,_0x39b8ac['userData'][_0xf94f11(0x128)]=![];},0x64);}function loadAudio(_0x1b2f93,_0x47e849=![]){const _0x38c18a=_0x351664;if(audio['isPlaying'])audio[_0x38c18a(0x1c3)]();const _0x17eba4=new _0x39e7c1['AudioLoader']();aiText[_0x38c18a(0x1a6)]=_0x38c18a(0x1b4),_0x17eba4[_0x38c18a(0x1d6)](_0x1b2f93,_0x75b560=>{const _0x412769=_0x38c18a;audio[_0x412769(0x10b)](_0x75b560),audio[_0x412769(0x100)](!![]),audio[_0x412769(0x193)](0.5);if(isExperienceActive)audio['play']();aiText[_0x412769(0x1a6)]=_0x412769(0x1c0);if(_0x47e849){let _0xfe7739=genreSelect[_0x412769(0x1a1)](_0x412769(0xe4));!_0xfe7739&&(_0xfe7739=document['createElement'](_0x412769(0x196)),_0xfe7739[_0x412769(0x12f)]=_0x412769(0x154),_0xfe7739[_0x412769(0x1a6)]=_0x412769(0x179),genreSelect['prepend'](_0xfe7739)),_0xfe7739[_0x412769(0x151)]=!![];}},undefined,_0x36cd03=>{const _0x2e1130=_0x38c18a;console[_0x2e1130(0x112)]('An\x20error\x20happened\x20while\x20loading\x20audio.',_0x36cd03),aiText[_0x2e1130(0x1a6)]=_0x2e1130(0x110);});}function createDragonfly(){const _0x24cb35=_0x351664;dragonfly=new _0x39e7c1[(_0x24cb35(0x123))]();const _0x53e812=new _0x39e7c1[(_0x24cb35(0xf5))]({'color':0xff00ff,'emissive':0xff00ff,'emissiveIntensity':0x2,'metalness':0.8,'roughness':0.2}),_0x53b14b=new _0x39e7c1[(_0x24cb35(0x118))](new _0x39e7c1['CapsuleGeometry'](0.3,0x3,0x4,0x10),_0x53e812);_0x53b14b['rotation']['x']=Math['PI']/0x2,dragonfly[_0x24cb35(0x165)](_0x53b14b);const _0x5072dd=new _0x39e7c1[(_0x24cb35(0x118))](new _0x39e7c1[(_0x24cb35(0x11a))](0.5,0x20,0x20),new _0x39e7c1[(_0x24cb35(0xf5))]({'color':0xffff,'emissive':0xffff,'emissiveIntensity':0x3,'metalness':0.5,'roughness':0.1}));_0x5072dd['position']['z']=0x2,dragonfly['add'](_0x5072dd);const _0x127b6b=()=>{const _0x576dec=_0x24cb35,_0x1259f1=new _0x39e7c1[(_0x576dec(0x119))]()[_0x576dec(0x1bb)](0x0,0x0)[_0x576dec(0xe5)](0x2,0x2,0x8,0x2,0xa,0x0)[_0x576dec(0xe5)](0x8,-1.5,0x2,-1.5,0x0,0x0),_0x330eb=new _0x39e7c1[(_0x576dec(0x197))](_0x1259f1,0x1e);return _0x330eb[_0x576dec(0xfa)](_0x576dec(0x101),_0x330eb[_0x576dec(0x167)]['position']['clone']()),new _0x39e7c1[(_0x576dec(0x118))](_0x330eb,new _0x39e7c1[(_0x576dec(0x140))]({'color':0xffff,'wireframe':!![],'transparent':!![],'opacity':0.7}));},_0x37771a=_0x127b6b();_0x37771a[_0x24cb35(0x1c9)][_0x24cb35(0x1ac)](0.5,0x0,0x0),_0x37771a[_0x24cb35(0xd3)]['y']=Math['PI'];const _0x282fa9=_0x127b6b();_0x282fa9[_0x24cb35(0x1c9)]['set'](-0.5,0x0,0x0);const _0x183f4a=new _0x39e7c1[(_0x24cb35(0x123))]();_0x183f4a['add'](_0x37771a,_0x282fa9),_0x183f4a['position']['z']=-0x1,dragonfly['add'](_0x183f4a),scene[_0x24cb35(0x165)](dragonfly);}function createParticles(){const _0x54ee50=_0x351664,_0x407f15=new _0x39e7c1[(_0x54ee50(0x156))](),_0x3f7fc5=new Float32Array(0xbb8*0x3);for(let _0x10ac83=0x0;_0x10ac83<_0x3f7fc5[_0x54ee50(0x18d)];_0x10ac83+=0x3){_0x3f7fc5[_0x10ac83]=(Math[_0x54ee50(0xeb)]()-0.5)*0xc8,_0x3f7fc5[_0x10ac83+0x1]=(Math['random']()-0.5)*0xc8,_0x3f7fc5[_0x10ac83+0x2]=(Math[_0x54ee50(0xeb)]()-0.5)*0xc8;}_0x407f15['setAttribute'](_0x54ee50(0x1c9),new _0x39e7c1[(_0x54ee50(0x125))](_0x3f7fc5,0x3)),particles=new _0x39e7c1[(_0x54ee50(0x1af))](_0x407f15,new _0x39e7c1['PointsMaterial']({'color':0xaa00ff,'size':0.1,'transparent':!![],'opacity':0.6,'blending':_0x39e7c1[_0x54ee50(0x145)]})),scene[_0x54ee50(0x165)](particles);}function createEnvironment(){const _0x1874c1=_0x351664;gridHelper=new _0x39e7c1[(_0x1874c1(0x177))](GRID_SIZE,STEPS,0xaa00ff,0x444444),gridHelper[_0x1874c1(0x1c9)]['y']=-0x14,scene[_0x1874c1(0x165)](gridHelper),groundPlane=new _0x39e7c1[(_0x1874c1(0x118))](new _0x39e7c1[(_0x1874c1(0x11f))](GRID_SIZE,GRID_SIZE),new _0x39e7c1[(_0x1874c1(0x140))]({'visible':![]})),groundPlane['rotation']['x']=-Math['PI']/0x2,groundPlane[_0x1874c1(0x1c9)]['y']=-0x14,scene[_0x1874c1(0x165)](groundPlane);}function createStars(){const _0x20ca97=_0x351664,_0x266b06=new _0x39e7c1['BufferGeometry'](),_0x5d14fe=new Float32Array(0x2710*0x3);for(let _0x22d20a=0x0;_0x22d20a<_0x5d14fe[_0x20ca97(0x18d)];_0x22d20a+=0x3){_0x5d14fe[_0x22d20a]=(Math[_0x20ca97(0xeb)]()-0.5)*0x7d0,_0x5d14fe[_0x22d20a+0x1]=(Math[_0x20ca97(0xeb)]()-0.5)*0x7d0,_0x5d14fe[_0x22d20a+0x2]=(Math[_0x20ca97(0xeb)]()-0.5)*0x7d0;}_0x266b06[_0x20ca97(0xfa)](_0x20ca97(0x1c9),new _0x39e7c1[(_0x20ca97(0x125))](_0x5d14fe,0x3)),stars=new _0x39e7c1[(_0x20ca97(0x1af))](_0x266b06,new _0x39e7c1[(_0x20ca97(0x161))]({'color':0xffffff,'size':1.5,'transparent':!![],'opacity':0.8})),scene['add'](stars);}function createPyramids(){const _0xcf1d68=_0x351664;pyramids=new _0x39e7c1['Group']();const _0x1c0edb=new _0x39e7c1[(_0xcf1d68(0x18c))](0x2,0x4,0x4),_0x1d5dff=new _0x39e7c1[(_0xcf1d68(0xf5))]({'color':0xffff,'emissive':0xffff,'emissiveIntensity':0x1,'metalness':0.8,'roughness':0.2});for(let _0xfa0269=0x0;_0xfa0269<0x14;_0xfa0269++){const _0x1456c8=new _0x39e7c1[(_0xcf1d68(0x118))](_0x1c0edb,_0x1d5dff[_0xcf1d68(0x1b8)]());_0x1456c8[_0xcf1d68(0x1c9)][_0xcf1d68(0x1ac)]((Math[_0xcf1d68(0xeb)]()-0.5)*0x96,-0x12,(Math[_0xcf1d68(0xeb)]()-0.5)*0x96),pyramids[_0xcf1d68(0x165)](_0x1456c8);}scene['add'](pyramids);}function createPlacementMarker(){const _0x3262aa=_0x351664,_0x27c70a=new _0x39e7c1[(_0x3262aa(0xf9))](2.5,0.1,0x10,0x64),_0xeb6779=new _0x39e7c1[(_0x3262aa(0x140))]({'color':0xffff,'transparent':!![],'opacity':0.5});placementMarker=new _0x39e7c1[(_0x3262aa(0x118))](_0x27c70a,_0xeb6779),placementMarker[_0x3262aa(0xd3)]['x']=Math['PI']/0x2,placementMarker['visible']=![],scene[_0x3262aa(0x165)](placementMarker);}function createPlayhead(){const _0x298011=_0x351664,_0x540a73=new _0x39e7c1['PlaneGeometry'](0.5,GRID_SIZE),_0xefa2da=new _0x39e7c1['MeshBasicMaterial']({'color':0xff00ff,'side':_0x39e7c1['DoubleSide'],'transparent':!![],'opacity':0.75,'blending':_0x39e7c1[_0x298011(0x145)]});playhead=new _0x39e7c1[(_0x298011(0x118))](_0x540a73,_0xefa2da),playhead[_0x298011(0xd3)]['x']=-Math['PI']/0x2,playhead[_0x298011(0x1c9)]['y']=-19.8,playhead[_0x298011(0x181)]=![],scene['add'](playhead);}function setupEventListeners(){const _0x329c15=_0x351664;window['addEventListener']('resize',onWindowResize),window[_0x329c15(0x14a)](_0x329c15(0x19a),onMouseMove),renderer[_0x329c15(0xe9)][_0x329c15(0x14a)](_0x329c15(0x111),onSceneClick),activationButton[_0x329c15(0x14a)](_0x329c15(0x111),startExperience),genreSelect[_0x329c15(0x14a)](_0x329c15(0x1c6),_0x4c100c=>{const _0x2ea349=_0x329c15;_0x4c100c[_0x2ea349(0x1c4)]['value']!=='custom'&&loadAudio(audioTracks[_0x4c100c[_0x2ea349(0x1c4)]['value']]);}),mp3UploadInput[_0x329c15(0x14a)](_0x329c15(0x1c6),handleFileUpload),glowSlider['addEventListener'](_0x329c15(0x17e),_0x24204f=>{const _0x228a1c=_0x329c15;if(bloomPass)bloomPass[_0x228a1c(0xe7)]=_0x24204f['target'][_0x228a1c(0x12f)];}),particleColorSlider['addEventListener'](_0x329c15(0x17e),_0x3254d0=>{const _0x22f448=_0x329c15;if(particles)particles[_0x22f448(0x122)][_0x22f448(0x10c)][_0x22f448(0xf7)](_0x3254d0[_0x22f448(0x1c4)][_0x22f448(0x12f)],0x1,0.5);}),gridColorSlider[_0x329c15(0x14a)](_0x329c15(0x17e),_0x5b33e8=>{const _0x5c3815=_0x329c15;if(gridHelper)gridHelper[_0x5c3815(0x122)][_0x5c3815(0x10c)]['setHSL'](_0x5b33e8[_0x5c3815(0x1c4)][_0x5c3815(0x12f)],0x1,0.5);}),dragonflyColorSlider[_0x329c15(0x14a)](_0x329c15(0x17e),_0x12f80f=>{const _0x3f4e71=_0x329c15;if(dragonfly){const _0x54032d=new _0x39e7c1[(_0x3f4e71(0xe0))]()[_0x3f4e71(0xf7)](_0x12f80f[_0x3f4e71(0x1c4)][_0x3f4e71(0x12f)],0x1,0.5);dragonfly['children'][0x0][_0x3f4e71(0x122)]['color'][_0x3f4e71(0x172)](_0x54032d),dragonfly[_0x3f4e71(0x114)][0x0][_0x3f4e71(0x122)][_0x3f4e71(0xf3)]['copy'](_0x54032d);}}),fogSlider[_0x329c15(0x14a)](_0x329c15(0x17e),_0x435cca=>{const _0x2904e6=_0x329c15;if(scene['fog'])scene[_0x2904e6(0xef)][_0x2904e6(0x137)]=parseFloat(_0x435cca['target'][_0x2904e6(0x12f)]);}),kickVolumeSlider[_0x329c15(0x14a)]('input',_0x5beaa0=>{const _0x19d0fb=_0x329c15;if(synths[_0x19d0fb(0x124)])synths[_0x19d0fb(0x124)]['volume'][_0x19d0fb(0x12f)]=parseFloat(_0x5beaa0[_0x19d0fb(0x1c4)]['value']);}),hatVolumeSlider['addEventListener'](_0x329c15(0x17e),_0x51d0be=>{const _0x2aef52=_0x329c15;if(synths['hatVolume'])synths[_0x2aef52(0x1b6)]['volume']['value']=parseFloat(_0x51d0be[_0x2aef52(0x1c4)]['value']);}),noteVolumeSlider[_0x329c15(0x14a)](_0x329c15(0x17e),_0x569860=>{const _0x535b68=_0x329c15;if(synths[_0x535b68(0x13b)])synths[_0x535b68(0x13b)][_0x535b68(0x17a)][_0x535b68(0x12f)]=parseFloat(_0x569860['target']['value']);}),padVolumeSlider[_0x329c15(0x14a)]('input',_0x23089a=>{const _0x3e6440=_0x329c15;if(synths[_0x3e6440(0x198)])synths['padVolume']['volume'][_0x3e6440(0x12f)]=parseFloat(_0x23089a[_0x3e6440(0x1c4)][_0x3e6440(0x12f)]);}),document[_0x329c15(0x1a8)](_0x329c15(0x1ce))[_0x329c15(0x16b)](_0x379626=>{const _0x57816d=_0x329c15;_0x379626[_0x57816d(0x14a)](_0x57816d(0x111),_0x11c167=>{const _0x53cb4d=_0x57816d;setObjectToAdd(_0x11c167['target'][_0x53cb4d(0x1ad)]['type']);});}),sequencerToggleButton[_0x329c15(0x14a)](_0x329c15(0x111),()=>{const _0x2dbe22=_0x329c15;Tone['Transport'][_0x2dbe22(0x138)]==='started'?(Tone['Transport'][_0x2dbe22(0x174)](),playhead[_0x2dbe22(0x181)]=![],sequencerToggleButton[_0x2dbe22(0x1a6)]='Resume\x20Sequencer'):(Tone[_0x2dbe22(0x192)][_0x2dbe22(0xec)](),sequence[_0x2dbe22(0xec)](0x0),playhead['visible']=!![],sequencerToggleButton['textContent']='Stop\x20Sequencer');}),clearSceneButton[_0x329c15(0x14a)](_0x329c15(0x111),()=>{const _0x23adda=_0x329c15;while(spawnedObjects[_0x23adda(0x114)][_0x23adda(0x18d)]>0x0){const _0x523efa=spawnedObjects[_0x23adda(0x114)][0x0];spawnedObjects[_0x23adda(0x132)](_0x523efa);if(_0x523efa[_0x23adda(0x1a2)])_0x523efa[_0x23adda(0x1a2)][_0x23adda(0x176)]();if(_0x523efa[_0x23adda(0x122)])_0x523efa[_0x23adda(0x122)][_0x23adda(0x176)]();}while(vibePinGroup[_0x23adda(0x114)][_0x23adda(0x18d)]>0x0){const _0x30f7de=vibePinGroup[_0x23adda(0x114)][0x0];vibePinGroup['remove'](_0x30f7de);}vibePins=[],renderPinList(),isVibePinned=![],Tone[_0x23adda(0x192)][_0x23adda(0x138)]==='paused'&&(Tone['Transport'][_0x23adda(0xec)](),playhead[_0x23adda(0x181)]=!![],sequencerToggleButton[_0x23adda(0x1a6)]='Stop\x20Sequencer');}),pinList[_0x329c15(0x14a)](_0x329c15(0x111),_0x5cdc51=>{const _0x3bda6f=_0x329c15,_0x52d08c=_0x5cdc51[_0x3bda6f(0x1c4)];if(_0x52d08c[_0x3bda6f(0xf6)][_0x3bda6f(0xed)](_0x3bda6f(0x1b5)))goToPin(parseInt(_0x52d08c[_0x3bda6f(0x1ad)]['id']));else _0x52d08c[_0x3bda6f(0xf6)]['contains']('remove-btn')&&removePin(parseInt(_0x52d08c[_0x3bda6f(0x1ad)]['id']));}),shareButton['addEventListener'](_0x329c15(0x111),takeScreenshot),closeModalButton[_0x329c15(0x14a)](_0x329c15(0x111),()=>{const _0x2c7ad5=_0x329c15;shareModal[_0x2c7ad5(0x1d4)][_0x2c7ad5(0xd6)]=_0x2c7ad5(0x1a7);}),copyLinkButton[_0x329c15(0x14a)](_0x329c15(0x111),()=>copyToClipboard(_0x329c15(0x13e))),hint1Ok[_0x329c15(0x14a)]('click',()=>{const _0x1f669e=_0x329c15;hint1[_0x1f669e(0xf6)][_0x1f669e(0x132)](_0x1f669e(0x181)),setTimeout(()=>hint2['classList']['add'](_0x1f669e(0x181)),0x1f4);}),hint2Ok['addEventListener'](_0x329c15(0x111),()=>{const _0x559f64=_0x329c15;hint2['classList'][_0x559f64(0x132)]('visible'),setTimeout(()=>hint3[_0x559f64(0xf6)]['add'](_0x559f64(0x181)),0x1f4);}),hint3Ok[_0x329c15(0x14a)](_0x329c15(0x111),()=>{const _0x2d5a25=_0x329c15;hint3[_0x2d5a25(0xf6)][_0x2d5a25(0x132)](_0x2d5a25(0x181));});}function handleFileUpload(_0x2995e9){const _0x4636d4=_0x351664,_0x1c436b=_0x2995e9[_0x4636d4(0x1c4)][_0x4636d4(0xd4)][0x0];if(_0x1c436b&&_0x1c436b[_0x4636d4(0x19f)]===_0x4636d4(0x1d3)){const _0x555e25=new FileReader();_0x555e25[_0x4636d4(0x11c)]=_0x12395b=>{const _0xb686f7=_0x4636d4,_0x1a7999=_0x12395b[_0xb686f7(0x1c4)]['result'];loadAudio(_0x1a7999,!![]);},_0x555e25['readAsDataURL'](_0x1c436b);}}function setObjectToAdd(_0x80f206){const _0x2dd329=_0x351664;currentObjectToAdd=_0x80f206===currentObjectToAdd?null:_0x80f206,document['querySelectorAll'](_0x2dd329(0x1ce))[_0x2dd329(0x16b)](_0x4c813a=>{const _0x461191=_0x2dd329;_0x4c813a['classList']['toggle'](_0x461191(0x116),_0x4c813a[_0x461191(0x1ad)]['type']===currentObjectToAdd);}),placementMarker[_0x2dd329(0x181)]=!!currentObjectToAdd,container[_0x2dd329(0x1d4)][_0x2dd329(0xd2)]=currentObjectToAdd?_0x2dd329(0x15d):'none';}function onSceneClick(_0x486af1){const _0x5a968b=_0x351664;if(!isExperienceActive)return;if(_0x486af1[_0x5a968b(0x1c4)]['closest'](_0x5a968b(0x15f)))return;raycaster[_0x5a968b(0xe8)](mouse,camera);const _0x1b2576=raycaster[_0x5a968b(0x12a)](vibePinGroup['children'],!![]);if(_0x1b2576['length']>0x0){const _0x51dd9e=_0x1b2576[0x0][_0x5a968b(0x1bc)][_0x5a968b(0x19e)];_0x51dd9e[_0x5a968b(0x160)][_0x5a968b(0x107)]?(isVibePinned=![],removePin(_0x51dd9e['userData']['id'])):goToPin(_0x51dd9e['userData']['id']);}else{if(currentObjectToAdd){const _0x11560a=raycaster[_0x5a968b(0x158)](groundPlane);_0x11560a[_0x5a968b(0x18d)]>0x0&&spawnObject(_0x11560a[0x0][_0x5a968b(0x1d7)]);}else{isVibePinned=!![],vibePinGroup['children'][_0x5a968b(0x16b)](_0x5224d4=>_0x5224d4[_0x5a968b(0x160)][_0x5a968b(0x107)]=![]);const _0x394807={'id':Date[_0x5a968b(0x14f)](),'rate':audio[_0x5a968b(0xd1)](),'freq':targetFrequency};vibePins[_0x5a968b(0x166)](_0x394807),createVibePin(_0x394807),renderPinList(),Tone[_0x5a968b(0x192)][_0x5a968b(0x138)]===_0x5a968b(0xe3)&&(Tone['Transport'][_0x5a968b(0x174)](),sequencerToggleButton[_0x5a968b(0x1a6)]=_0x5a968b(0x1be));}}}function createTextSprite(_0x27efd2){const _0x24e22f=_0x351664,_0x3bf3d1=document[_0x24e22f(0x142)]('canvas'),_0x46868f=_0x3bf3d1[_0x24e22f(0x18b)]('2d');_0x46868f[_0x24e22f(0x186)]=_0x24e22f(0x171),_0x46868f[_0x24e22f(0x1c2)]=_0x24e22f(0x102),_0x46868f['fillText'](_0x27efd2,0x0,0x28);const _0x1008d6=new _0x39e7c1[(_0x24e22f(0x13f))](_0x3bf3d1),_0x3c9f0c=new _0x39e7c1[(_0x24e22f(0x10e))]({'map':_0x1008d6}),_0x4451be=new _0x39e7c1[(_0x24e22f(0x120))](_0x3c9f0c);return _0x4451be[_0x24e22f(0x1d8)][_0x24e22f(0x1ac)](0x5,2.5,0x1),_0x4451be;}function createVibePin(_0x569331){const _0x3c0873=_0x351664,_0x25e81b=new _0x39e7c1[(_0x3c0873(0x123))](),_0x193ddd=new _0x39e7c1[(_0x3c0873(0xcf))](0.5,0x0,0x2,0x8),_0x4705cc=new _0x39e7c1['MeshBasicMaterial']({'color':0xff00ff}),_0x5070e9=new _0x39e7c1['Mesh'](_0x193ddd,_0x4705cc);_0x5070e9[_0x3c0873(0xd3)]['z']=Math['PI'];const _0x411d47=createTextSprite(_0x3c0873(0x106)+vibePins[_0x3c0873(0x18d)]);_0x411d47[_0x3c0873(0x1c9)]['y']=0x2,_0x25e81b[_0x3c0873(0x165)](_0x5070e9),_0x25e81b['add'](_0x411d47);const _0x2ae039=new _0x39e7c1['Vector3'](mouse['x'],mouse['y'],0.5);_0x2ae039[_0x3c0873(0x113)](camera);const _0x461153=_0x2ae039[_0x3c0873(0x1cf)](camera['position'])[_0x3c0873(0x1ae)](),_0x42e06a=-camera['position']['z']/_0x461153['z'],_0x429935=camera[_0x3c0873(0x1c9)][_0x3c0873(0x1b8)]()[_0x3c0873(0x165)](_0x461153['multiplyScalar'](_0x42e06a));_0x25e81b['position'][_0x3c0873(0x172)](_0x429935),_0x25e81b[_0x3c0873(0x160)]={..._0x569331,'isActive':!![]},vibePinGroup[_0x3c0873(0x165)](_0x25e81b);}function _0x225a(){const _0x211d94=['Reverb','setPixelRatio','getContext','ConeGeometry','length','appendChild','then','upload-mp3','lookAt','Transport','setVolume','FogExp2','paused','option','ShapeGeometry','padVolume','image/png','mousemove','Scene','32122XLLeEf','getFrequencyData','parent','type','pow','querySelector','geometry','share-container','10yZvFLZ','PerspectiveCamera','textContent','none','querySelectorAll','flex','aspect','clientX','set','dataset','normalize','Points','AudioListener','dragonfly-color-slider','hint1-ok','Draw','Loading\x20new\x20vibe...','goto-btn','hatVolume','height','clone','AudioAnalyser','download-link','moveTo','object','href','Resume\x20Sequencer','from','Vibe\x20loaded.\x20Systems\x20nominal.','triggerAttackRelease','fillStyle','stop','target','wire-bae-vibe.png','change','setFilter','Clock','position','copy-link-button','setSize','sine','7hGeeTs','.obj-btn','sub','cos','Error\x20starting\x20Tone.js\x20AudioContext:','kick','audio/mpeg','style','find','load','point','scale','getElapsedTime','pyramid','pointerEvents','CylinderGeometry','rate','getPlaybackRate','cursor','rotation','files','1807068SeBvpK','display','top','cube','activation-button','Sequence','cursor-light','schedule','MetalSynth','innerHeight','genre-select','Color','context','https://pdragonlabs.github.io/WireBaePDragonLabs/lo-fi.mp3','started','option[value=\x22custom\x22]','bezierCurveTo','fatsawtooth','strength','setFromCamera','domElement','sin','random','start','contains','sampleRate','fog','Vector2','BoxGeometry','hint2-ok','emissive','innerWidth','MeshStandardMaterial','classList','setHSL','resume','TorusGeometry','setAttribute','share-image','remove-btn','Raycaster','getElementById','share-modal','setLoop','originalPosition','rgba(255,\x20255,\x20255,\x201.0)','Error\x20sharing:','render','pad','Pin\x20','isActive','PolySynth','scene-container','fog-slider','setBuffer','color','60aOcOmB','SpriteMaterial','parameters','Audio\x20failed\x20to\x20load.','click','error','unproject','children','setTargetAtTime','active','186sEcTNv','Mesh','Shape','SphereGeometry','cancelScheduledValues','onload','4431176sXsVRS','sequencer-toggle-btn','PlaneGeometry','Sprite','2437677ubcutQ','material','Group','kickVolume','BufferAttribute','pin-list','close-modal-button','isFlashing','Error\x20resuming\x20Three.js\x20AudioContext:','intersectObjects','Volume','hint1','FMSynth','MembraneSynth','value','opacity','85533wHgwYY','remove','clientY','catch','share','addPass','density','state','Fallback:\x20Oops,\x20unable\x20to\x20copy','frequency','noteVolume','updateProjectionMatrix','lowpass','https://pdragonlabs.github.io/WireBaePDragonLabs/','CanvasTexture','MeshBasicMaterial','left','createElement','getDelta','canShare','AdditiveBlending','https://pdragonlabs.github.io/WireBaePDragonLabs/old-school.mp3','Audio','toDestination','kick-volume-slider','addEventListener','sphere','Remove','Copied!','hint3-ok','now','execCommand','selected','version-display','toDataURL','custom','freq','BufferGeometry','blob','intersectObject','WebGLRenderer','Check\x20out\x20my\x20vibe\x20on\x20Wire\x20Bae!','className','linearRampToValueAtTime','crosshair','filter','#controls-panel,\x20#share-container,\x20.hint-popup,\x20#share-modal','userData','PointsMaterial','floor','12465Nutunb','button','add','push','attributes','torus','activation-overlay','setClearColor','forEach','textarea','Wire\x20Bae\x20Vibe','emissiveIntensity','particle-color-slider','size','Bold\x2040px\x20Rajdhani','copy','enabled','pause','33bWUTAv','dispose','GridHelper','grid-color-slider','Custom\x20Track','volume','hat-volume-slider','Vector3','note','input','connect','exponential','visible','currentTime','693214hkwCik','setPlaybackRate','hint3','font','innerHTML','body'];_0x225a=function(){return _0x211d94;};return _0x225a();}function spawnObject(_0x4dff27){const _0x32c312=_0x351664;let _0x599485;const _0x9ac5c1=-0x12;switch(currentObjectToAdd){case'cube':_0x599485=new _0x39e7c1[(_0x32c312(0xf1))](0x4,0x4,0x4);break;case _0x32c312(0x14b):_0x599485=new _0x39e7c1[(_0x32c312(0x11a))](0x2,0x20,0x20);break;case _0x32c312(0x168):_0x599485=new _0x39e7c1[(_0x32c312(0xf9))](0x2,0.8,0x10,0x64);break;case _0x32c312(0xcd):_0x599485=new _0x39e7c1['ConeGeometry'](0x3,0x5,0x4);break;}const _0x45a9ee=new _0x39e7c1['MeshStandardMaterial']({'color':0xffffff,'emissive':0xffffff,'emissiveIntensity':0x1,'metalness':0.8,'roughness':0.2});_0x45a9ee[_0x32c312(0x10c)][_0x32c312(0xf7)](Math[_0x32c312(0xeb)](),0x1,0.5),_0x45a9ee[_0x32c312(0xf3)][_0x32c312(0x172)](_0x45a9ee[_0x32c312(0x10c)]);const _0x3bc6f0=new _0x39e7c1['Mesh'](_0x599485,_0x45a9ee);_0x3bc6f0[_0x32c312(0x1c9)]['copy'](_0x4dff27),_0x3bc6f0[_0x32c312(0x1c9)]['y']=_0x9ac5c1+(_0x599485[_0x32c312(0x10f)][_0x32c312(0x1b7)]||0x4)/0x2,_0x3bc6f0[_0x32c312(0x160)][_0x32c312(0x19f)]=currentObjectToAdd,spawnedObjects[_0x32c312(0x165)](_0x3bc6f0);}function onWindowResize(){const _0x207da5=_0x351664;camera[_0x207da5(0x1aa)]=window['innerWidth']/window['innerHeight'],camera[_0x207da5(0x13c)](),renderer[_0x207da5(0x1cb)](window[_0x207da5(0xf4)],window[_0x207da5(0xde)]),composer[_0x207da5(0x1cb)](window[_0x207da5(0xf4)],window['innerHeight']);}function onMouseMove(_0x5210f0){const _0x4561f9=_0x351664;mouse['x']=_0x5210f0[_0x4561f9(0x1ab)]/window[_0x4561f9(0xf4)]*0x2-0x1,mouse['y']=-(_0x5210f0[_0x4561f9(0x133)]/window['innerHeight'])*0x2+0x1,isExperienceActive&&(cursorLight[_0x4561f9(0x1d4)][_0x4561f9(0x141)]=_0x5210f0[_0x4561f9(0x1ab)]+'px',cursorLight['style'][_0x4561f9(0xd7)]=_0x5210f0[_0x4561f9(0x133)]+'px',!isVibePinned&&updateAudioFromMouse());}function updateAudioFromMouse(){const _0x1b9e87=_0x351664;if(filter){const _0x525950=0xc8,_0x28423b=audio[_0x1b9e87(0xe1)][_0x1b9e87(0xee)]/0x2;targetFrequency=_0x525950*Math[_0x1b9e87(0x1a0)](_0x28423b/_0x525950,(mouse['y']+0x1)/0x2);}if(audio){const _0x565f3a=0.75,_0x3583ae=1.25,_0x5d94dc=_0x565f3a+(mouse['x']+0x1)/0x2*(_0x3583ae-_0x565f3a);audio[_0x1b9e87(0x184)](_0x5d94dc);}}function goToPin(_0x5ccdc2){const _0x3e39a5=_0x351664,_0x5fb048=vibePins[_0x3e39a5(0x1d5)](_0x12eae9=>_0x12eae9['id']===_0x5ccdc2);_0x5fb048&&(isVibePinned=!![],vibePinGroup['children'][_0x3e39a5(0x16b)](_0x30c631=>{const _0x14e516=_0x3e39a5;_0x30c631[_0x14e516(0x160)][_0x14e516(0x107)]=_0x30c631[_0x14e516(0x160)]['id']===_0x5ccdc2;}),targetFrequency=_0x5fb048[_0x3e39a5(0x155)],audio[_0x3e39a5(0x184)](_0x5fb048[_0x3e39a5(0xd0)]),filter&&(filter[_0x3e39a5(0x13a)][_0x3e39a5(0x11b)](audio[_0x3e39a5(0xe1)][_0x3e39a5(0x182)]),filter[_0x3e39a5(0x13a)][_0x3e39a5(0x15c)](_0x5fb048[_0x3e39a5(0x155)],audio[_0x3e39a5(0xe1)][_0x3e39a5(0x182)]+0.1)),Tone[_0x3e39a5(0x192)][_0x3e39a5(0x138)]===_0x3e39a5(0xe3)&&(Tone['Transport']['pause'](),sequencerToggleButton[_0x3e39a5(0x1a6)]=_0x3e39a5(0x1be)));}function removePin(_0x5cc150){const _0xbd63d0=_0x351664;vibePins=vibePins[_0xbd63d0(0x15e)](_0x59a3cd=>_0x59a3cd['id']!==_0x5cc150);const _0x2075c5=vibePinGroup[_0xbd63d0(0x114)]['find'](_0x10b924=>_0x10b924[_0xbd63d0(0x160)]['id']===_0x5cc150);_0x2075c5&&vibePinGroup['remove'](_0x2075c5),renderPinList(),isVibePinned=![],Tone[_0xbd63d0(0x192)][_0xbd63d0(0x138)]===_0xbd63d0(0x195)&&(Tone[_0xbd63d0(0x192)][_0xbd63d0(0xec)](),sequencerToggleButton[_0xbd63d0(0x1a6)]='Stop\x20Sequencer');}function renderPinList(){const _0x230a41=_0x351664;pinList[_0x230a41(0x187)]='',vibePins[_0x230a41(0x16b)]((_0x1349be,_0x1cc9c3)=>{const _0x2b4ec0=_0x230a41,_0x5b2a37=document[_0x2b4ec0(0x142)]('li');_0x5b2a37[_0x2b4ec0(0x1a6)]='Pin\x20'+(_0x1cc9c3+0x1);const _0x25ee40=document[_0x2b4ec0(0x142)](_0x2b4ec0(0x164));_0x25ee40[_0x2b4ec0(0x1a6)]='Go\x20to',_0x25ee40[_0x2b4ec0(0x15b)]=_0x2b4ec0(0x1b5),_0x25ee40[_0x2b4ec0(0x1ad)]['id']=_0x1349be['id'];const _0x1fc10c=document[_0x2b4ec0(0x142)](_0x2b4ec0(0x164));_0x1fc10c[_0x2b4ec0(0x1a6)]=_0x2b4ec0(0x14c),_0x1fc10c[_0x2b4ec0(0x15b)]=_0x2b4ec0(0xfc),_0x1fc10c[_0x2b4ec0(0x1ad)]['id']=_0x1349be['id'],_0x5b2a37['appendChild'](_0x25ee40),_0x5b2a37['appendChild'](_0x1fc10c),pinList[_0x2b4ec0(0x18e)](_0x5b2a37);});}function startExperience(){const _0x2ca4b7=_0x351664;if(isExperienceActive)return;const _0x29f61c=()=>{const _0x35a15a=_0x34e8;isExperienceActive=!![],activationOverlay['style'][_0x35a15a(0x130)]='0',activationOverlay[_0x35a15a(0x1d4)][_0x35a15a(0xce)]='none',cursorLight[_0x35a15a(0x1d4)][_0x35a15a(0x130)]='1',controlsPanel[_0x35a15a(0x1d4)]['opacity']='1',shareContainer['style'][_0x35a15a(0x130)]='1',versionDisplay[_0x35a15a(0x1d4)]['opacity']='1',loadAudio(audioTracks[genreSelect['value']]),setTimeout(()=>hint1['classList'][_0x35a15a(0x165)](_0x35a15a(0x181)),0x3e8);};Tone['start']()[_0x2ca4b7(0x18f)](()=>{const _0x4c0133=_0x2ca4b7,_0x3ab9c4=audio[_0x4c0133(0xe1)];_0x3ab9c4[_0x4c0133(0x138)]==='suspended'?_0x3ab9c4[_0x4c0133(0xf8)]()[_0x4c0133(0x18f)](_0x29f61c)[_0x4c0133(0x134)](_0x5e076a=>console[_0x4c0133(0x112)](_0x4c0133(0x129),_0x5e076a)):_0x29f61c();})[_0x2ca4b7(0x134)](_0x5ec616=>console[_0x2ca4b7(0x112)](_0x2ca4b7(0x1d1),_0x5ec616));}function displayShareModal(_0x3eadad){const _0x4fe181=_0x351664;shareImage['src']=_0x3eadad,downloadLink[_0x4fe181(0x1bd)]=_0x3eadad,shareModal[_0x4fe181(0x1d4)]['display']=_0x4fe181(0x1a9);}function copyToClipboard(_0x2df102){const _0x1e9c26=_0x351664,_0x4c5d0b=document[_0x1e9c26(0x142)](_0x1e9c26(0x16c));_0x4c5d0b[_0x1e9c26(0x12f)]=_0x2df102,document[_0x1e9c26(0x188)]['appendChild'](_0x4c5d0b),_0x4c5d0b['select']();try{document[_0x1e9c26(0x150)]('copy');const _0x40fe6c=copyLinkButton[_0x1e9c26(0x1a6)];copyLinkButton[_0x1e9c26(0x1a6)]=_0x1e9c26(0x14d),setTimeout(()=>{const _0xfc4653=_0x1e9c26;copyLinkButton[_0xfc4653(0x1a6)]=_0x40fe6c;},0x7d0);}catch(_0x2d3b9f){console[_0x1e9c26(0x112)](_0x1e9c26(0x139),_0x2d3b9f);}document[_0x1e9c26(0x188)]['removeChild'](_0x4c5d0b);}async function takeScreenshot(){const _0x29cf31=_0x351664;composer[_0x29cf31(0x104)]();const _0x242fad=renderer[_0x29cf31(0xe9)][_0x29cf31(0x153)](_0x29cf31(0x199)),_0x4ce103='https://pdragonlabs.github.io/WireBaePDragonLabs/';try{const _0x1ee403=await(await fetch(_0x242fad))[_0x29cf31(0x157)](),_0x264fc0=new File([_0x1ee403],_0x29cf31(0x1c5),{'type':_0x1ee403[_0x29cf31(0x19f)]});navigator[_0x29cf31(0x135)]&&navigator[_0x29cf31(0x144)]({'files':[_0x264fc0]})?await navigator[_0x29cf31(0x135)]({'files':[_0x264fc0],'title':_0x29cf31(0x16d),'text':_0x29cf31(0x15a),'url':_0x4ce103}):displayShareModal(_0x242fad);}catch(_0x55dc10){console['error'](_0x29cf31(0x103),_0x55dc10),displayShareModal(_0x242fad);}}function animate(){const _0x37b69e=_0x351664;requestAnimationFrame(animate);const _0x203433=clock[_0x37b69e(0x143)](),_0x23e30c=clock[_0x37b69e(0xcc)]();let _0xd58969=0x0,_0x25f956=0x0,_0x4d7f19=0x0;if(isExperienceActive){if(analyser){const _0x28fef6=analyser[_0x37b69e(0x19d)]();_0xd58969=_0x28fef6[0x2]/0xff,_0x25f956=_0x28fef6[0x1e]/0xff,_0x4d7f19=_0x28fef6[0x3c]/0xff;}filter&&!isVibePinned&&filter[_0x37b69e(0x13a)][_0x37b69e(0x115)](targetFrequency,audio[_0x37b69e(0xe1)]['currentTime'],0.05);_0xd58969>0.9&&!glitchPass[_0x37b69e(0x173)]&&(glitchPass[_0x37b69e(0x173)]=!![],setTimeout(()=>{const _0x3d425a=_0x37b69e;glitchPass[_0x3d425a(0x173)]=![];},0x64));if(placementMarker[_0x37b69e(0x181)]){raycaster['setFromCamera'](mouse,camera);const _0x51099f=raycaster['intersectObject'](groundPlane);_0x51099f[_0x37b69e(0x18d)]>0x0&&(placementMarker['position'][_0x37b69e(0x172)](_0x51099f[0x0][_0x37b69e(0x1d7)]),placementMarker[_0x37b69e(0x1c9)]['y']=-19.9);}}if(dragonfly){dragonfly[_0x37b69e(0x1c9)][_0x37b69e(0x1ac)](Math[_0x37b69e(0xea)](_0x23e30c*0.3)*0xa,Math[_0x37b69e(0x1d0)](_0x23e30c*0.5)*0x5,Math[_0x37b69e(0x1d0)](_0x23e30c*0.2)*0xa);const _0x410d13=new _0x39e7c1[(_0x37b69e(0x17c))](Math[_0x37b69e(0xea)]((_0x23e30c+0.1)*0.3)*0xa,Math[_0x37b69e(0x1d0)]((_0x23e30c+0.1)*0.5)*0x5,Math[_0x37b69e(0x1d0)]((_0x23e30c+0.1)*0.2)*0xa);dragonfly[_0x37b69e(0x191)](_0x410d13);const _0x208f45=dragonfly[_0x37b69e(0x114)][0x2];if(_0x208f45){const _0x44c16d=0x2+_0xd58969*0xa;_0x208f45[_0x37b69e(0x114)][0x0]['rotation']['z']=Math[_0x37b69e(0xea)](_0x23e30c*_0x44c16d)*0.5,_0x208f45[_0x37b69e(0x114)][0x1]['rotation']['z']=-Math[_0x37b69e(0xea)](_0x23e30c*_0x44c16d)*0.5;}dragonfly['children'][0x1][_0x37b69e(0x122)][_0x37b69e(0x16e)]=0x2+_0xd58969*0x5;}particles&&(particles['rotation']['y']+=_0x203433*0.05,particles[_0x37b69e(0x122)][_0x37b69e(0x170)]=0.1+_0xd58969*0.2,particles[_0x37b69e(0x122)][_0x37b69e(0x130)]=0.6+_0x4d7f19*0.4),pyramids&&pyramids[_0x37b69e(0x114)][_0x37b69e(0x16b)]((_0xc996b6,_0x25a632)=>{const _0x1c7130=_0x37b69e;_0xc996b6[_0x1c7130(0x1c9)]['y']=-0x12+Math[_0x1c7130(0xea)](_0x23e30c*0x2+_0x25a632)*0x2,_0xc996b6['material'][_0x1c7130(0x16e)]=_0xd58969*0x2;}),spawnedObjects&&spawnedObjects[_0x37b69e(0x114)][_0x37b69e(0x16b)]((_0x52b09e,_0x228006)=>{const _0x5d3011=_0x37b69e;_0x52b09e[_0x5d3011(0xd3)]['y']+=_0x203433*0.2*(_0x228006%0x2===0x0?0x1:-0x1);if(!_0x52b09e[_0x5d3011(0x160)][_0x5d3011(0x128)])_0x52b09e[_0x5d3011(0x122)]['emissiveIntensity']=0.5+_0xd58969*1.5;}),vibePinGroup[_0x37b69e(0x114)][_0x37b69e(0x16b)](_0x39e5c9=>{const _0xedfb80=_0x37b69e;_0x39e5c9[_0xedfb80(0x114)][0x0]['material']['color'][_0xedfb80(0x1ac)](_0x39e5c9[_0xedfb80(0x160)][_0xedfb80(0x107)]?0xffff:0xff00ff),_0x39e5c9[_0xedfb80(0x191)](camera['position']);}),composer[_0x37b69e(0x104)](_0x203433);}init();